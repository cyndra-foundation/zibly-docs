
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="index.html" rel="canonical"/>
<link href="../index.html" rel="prev"/>
<link href="../evaluating_multi_turn_conversations/index.html" rel="next"/>
<link href="../../../static/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.12+insiders-4.53.16" name="generator"/>
<title>Cost Analysis - Zibly</title>
<link href="../../../assets/stylesheets/main.ff49f96f.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../../extra/style.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XWJT601CLX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XWJT601CLX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XWJT601CLX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script><script async="" src="../../../../../static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="zibly" name="readthedocs-project-slug"><meta content="stable" name="readthedocs-version-slug"><meta content="/howtos/applications/_cost/" name="readthedocs-resolver-filename"><meta content="200" name="readthedocs-http-status"/></meta></meta></meta></link></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="index.html#how-to-estimate-cost-and-usage-of-evaluations-and-testset-generation">
          Skip to content
        </a>
</div>

<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Zibly" class="md-header__button md-logo" data-md-component="logo" href="../../../index.html" title="Zibly">
<img alt="logo" src="../../../static/imgs/zibly-logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Zibly
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Cost Analysis
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="zibly_light" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="zibly_dark" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/zibly-foundation/zibly" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    zibly-foundation/zibly
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../index.html">
</a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../getstarted/index.html">
          
  
  
    
  
  üöÄ Get Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../concepts/index.html">
          
  
  
    
  
  üìö Core Concepts

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../index.html">
          
  
  
    
  
  üõ†Ô∏è How-to Guides

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../references/index.html">
          
  
  
    
  
  üìñ References

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../community/index.html">
        
  
  
    
  
  ‚ù§Ô∏è Community

      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Zibly" class="md-nav__button md-logo" data-md-component="logo" href="../../../index.html" title="Zibly">
<img alt="logo" src="../../../static/imgs/zibly-logo.png"/>
</a>
    Zibly
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/zibly-foundation/zibly" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    zibly-foundation/zibly
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../index.html">
<span class="md-ellipsis">
</span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../getstarted/index.html">
<span class="md-ellipsis">
    
  
    üöÄ Get Started
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    üöÄ Get Started
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/install/index.html">
<span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/evals/index.html">
<span class="md-ellipsis">
    
  
    Evaluate your first LLM App
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/rag_eval/index.html">
<span class="md-ellipsis">
    
  
    Evaluate a simple RAG
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/rag_testset_generation/index.html">
<span class="md-ellipsis">
    
  
    Generate Synthetic Testset for RAG
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/index.html">
<span class="md-ellipsis">
    
  
    üìö Core Concepts
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    üìö Core Concepts
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/components/index.html">
<span class="md-ellipsis">
    
  
    Components
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    General
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/prompt/index.html">
<span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/eval_sample/index.html">
<span class="md-ellipsis">
    
  
    Evaluation Sample
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/eval_dataset/index.html">
<span class="md-ellipsis">
    
  
    Evaluation Dataset
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/metrics/index.html">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/overview/index.html">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/index.html">
<span class="md-ellipsis">
    
  
    Available Metrics
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Available Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_2" id="__nav_3_3_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Retrieval Augmented Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_2_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Retrieval Augmented Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_precision/index.html">
<span class="md-ellipsis">
    
  
    Context Precision
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_recall/index.html">
<span class="md-ellipsis">
    
  
    Context Recall
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_entities_recall/index.html">
<span class="md-ellipsis">
    
  
    Context Entities Recall
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/noise_sensitivity/index.html">
<span class="md-ellipsis">
    
  
    Noise Sensitivity
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/answer_relevance/index.html">
<span class="md-ellipsis">
    
  
    Response Relevancy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/faithfulness/index.html">
<span class="md-ellipsis">
    
  
    Faithfulness
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_3" id="__nav_3_3_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Nvidia Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Nvidia Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#answer-accuracy">
<span class="md-ellipsis">
    
  
    Answer Accuracy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#context-relevance">
<span class="md-ellipsis">
    
  
    Context Relevance
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#response-groundedness">
<span class="md-ellipsis">
    
  
    Response Groundedness
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_4" id="__nav_3_3_3_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Agents or Tool Use Cases
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_4_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Agents or Tool Use Cases
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html">
<span class="md-ellipsis">
    
  
    Agentic or Tool use
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#topic-adherence">
<span class="md-ellipsis">
    
  
    Topic Adherence
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#tool-call-accuracy">
<span class="md-ellipsis">
    
  
    Tool Call Accuracy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#agent-goal-accuracy">
<span class="md-ellipsis">
    
  
    Agent Goal Accuracy
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_5" id="__nav_3_3_3_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Natural Language Comparison
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_5_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Natural Language Comparison
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/factual_correctness/index.html">
<span class="md-ellipsis">
    
  
    Factual Correctness
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/semantic_similarity/index.html">
<span class="md-ellipsis">
    
  
    Semantic Similarity
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_5_3" id="__nav_3_3_3_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Traditional non LLM metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_5_3_label" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_3_3_3_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Traditional non LLM metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html">
<span class="md-ellipsis">
    
  
    Traditional NLP Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#non-llm-string-similarity">
<span class="md-ellipsis">
    
  
    Non LLM String Similarity
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#bleu-score">
<span class="md-ellipsis">
    
  
    BLEU Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#rouge-score">
<span class="md-ellipsis">
    
  
    ROUGE Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#string-presence">
<span class="md-ellipsis">
    
  
    String Presence
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#exact-match">
<span class="md-ellipsis">
    
  
    Exact Match
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_6" id="__nav_3_3_3_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_6_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    SQL
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html">
<span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html#execution-based-metrics">
<span class="md-ellipsis">
    
  
    Execution based Datacompy Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html#sql-query-semantic-equivalence">
<span class="md-ellipsis">
    
  
    SQL Query Equivalence
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_7" id="__nav_3_3_3_7_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General Purpose
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_7_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_7">
<span class="md-nav__icon md-icon"></span>
            
  
    General Purpose
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html">
<span class="md-ellipsis">
    
  
    General Purpose Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#aspect-critic">
<span class="md-ellipsis">
    
  
    Aspect Critic
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#simple-criteria-scoring">
<span class="md-ellipsis">
    
  
    Simple Criteria Scoring
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#rubrics-based-criteria-scoring">
<span class="md-ellipsis">
    
  
    Rubrics Based Scoring
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#instance-specific-rubrics-criteria-scoring">
<span class="md-ellipsis">
    
  
    Instance Specific Rubrics Scoring
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_8" id="__nav_3_3_3_8_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Other Tasks
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_8_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_8">
<span class="md-nav__icon md-icon"></span>
            
  
    Other Tasks
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/summarization_score/index.html">
<span class="md-ellipsis">
    
  
    Summarization
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/test_data_generation/index.html">
<span class="md-ellipsis">
    
  
    Test Data Generation
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Test Data Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    RAG
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_4_2">
<span class="md-nav__icon md-icon"></span>
            
  
    RAG
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html">
<span class="md-ellipsis">
    
  
    Testset Generation for RAG
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html#knowledge-graph-creation">
<span class="md-ellipsis">
    
  
    KG Building
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html#scenario-generation">
<span class="md-ellipsis">
    
  
    Scenario Generation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Agents or tool use
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_4_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Agents or tool use
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/agents/index.html">
<span class="md-ellipsis">
    
  
    Testset Generation for Agents or Tool use cases
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/feedback/index.html">
<span class="md-ellipsis">
    
  
    Feedback Intelligence
  

    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Feedback Intelligence
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../index.html">
<span class="md-ellipsis">
    
  
    üõ†Ô∏è How-to Guides
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    üõ†Ô∏è How-to Guides
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../customizations/index.html">
<span class="md-ellipsis">
    
  
    Customizations
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Customizations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    General
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/customize_models/index.html">
<span class="md-ellipsis">
    
  
    Customise models
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/_run_config/index.html">
<span class="md-ellipsis">
    
  
    Run Config
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/_caching/index.html">
<span class="md-ellipsis">
    
  
    Caching
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_modifying-prompts-metrics/index.html">
<span class="md-ellipsis">
    
  
    Modify Prompts
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_metrics_language_adaptation/index.html">
<span class="md-ellipsis">
    
  
    Adapt Metrics to Languages
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_write_your_own_metric/index.html">
<span class="md-ellipsis">
    
  
    Write your own Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_write_your_own_metric_advanced/index.html">
<span class="md-ellipsis">
    
  
    Write your own Metrics - (advanced)
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_language_adaptation/index.html">
<span class="md-ellipsis">
    
  
    Non-English Testset Generation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_persona_generator/index.html">
<span class="md-ellipsis">
    
  
    Persona Generation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_testgen-custom-single-hop/index.html">
<span class="md-ellipsis">
    
  
    Custom Single-hop Query
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_testgen-customisation/index.html">
<span class="md-ellipsis">
    
  
    Custom Multi-hop Query
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../index.html">
<span class="md-ellipsis">
    
  
    Applications
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Applications
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Cost Analysis
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="index.html">
<span class="md-ellipsis">
    
  
    Cost Analysis
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#implement-tokenusageparser">
<span class="md-ellipsis">
      
        Implement TokenUsageParser
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#token-usage-for-evaluations">
<span class="md-ellipsis">
      
        Token Usage for Evaluations
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#token-usage-for-testset-generation">
<span class="md-ellipsis">
      
        Token Usage for Testset Generation
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../evaluating_multi_turn_conversations/index.html">
<span class="md-ellipsis">
    
  
    Evaluating Multi-turn Conversations
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vertexai_x_zibly/index.html">
<span class="md-ellipsis">
    
  
    Evaluations with Vertex AI models
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_3" id="__nav_4_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../singlehop_testset_gen/index.html">
<span class="md-ellipsis">
    
  
    Single-hop Query Testset
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_4" id="__nav_4_3_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Benchmarking
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Benchmarking
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../gemini_benchmarking/index.html">
<span class="md-ellipsis">
    
  
    Benchmarking Gemini models
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../integrations/index.html">
<span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_arize/index.html">
<span class="md-ellipsis">
    
  
    Arize
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/amazon_bedrock/index.html">
<span class="md-ellipsis">
    
  
    Amazon Bedrock
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/haystack/index.html">
<span class="md-ellipsis">
    
  
    Haystack
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/griptape/index.html">
<span class="md-ellipsis">
    
  
    Griptape
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/langchain/index.html">
<span class="md-ellipsis">
    
  
    LangChain
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_langgraph_agent_evaluation/index.html">
<span class="md-ellipsis">
    
  
    LangGraph
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/langsmith/index.html">
<span class="md-ellipsis">
    
  
    LangSmith
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_llamaindex/index.html">
<span class="md-ellipsis">
    
  
    LlamaIndex
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/llama_stack/index.html">
<span class="md-ellipsis">
    
  
    LlamaStack
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/r2r/index.html">
<span class="md-ellipsis">
    
  
    R2R
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/swarm_agent_evaluation/index.html">
<span class="md-ellipsis">
    
  
    Swarm
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
<span class="md-ellipsis">
    
  
    Migrations
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Migrations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../migrations/migrate_from_v01_to_v02/index.html">
<span class="md-ellipsis">
    
  
    From v0.1 to v0.2
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../references/index.html">
<span class="md-ellipsis">
    
  
    üìñ References
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            
  
    üìñ References
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Core
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/prompt/index.html">
<span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/llms/index.html">
<span class="md-ellipsis">
    
  
    LLMs
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/embeddings/index.html">
<span class="md-ellipsis">
    
  
    Embeddings
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/run_config/index.html">
<span class="md-ellipsis">
    
  
    RunConfig
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/executor/index.html">
<span class="md-ellipsis">
    
  
    Executor
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/cache/index.html">
<span class="md-ellipsis">
    
  
    Cache
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/evaluation_schema/index.html">
<span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/metrics/index.html">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/evaluate/index.html">
<span class="md-ellipsis">
    
  
    evaluate()
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/testset_schema/index.html">
<span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/graph/index.html">
<span class="md-ellipsis">
    
  
    Graph
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/transforms/index.html">
<span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/synthesizers/index.html">
<span class="md-ellipsis">
    
  
    Synthesizers
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/generate/index.html">
<span class="md-ellipsis">
    
  
    Generation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/integrations/index.html">
<span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../community/index.html">
<span class="md-ellipsis">
    
  
    ‚ù§Ô∏è Community
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#implement-tokenusageparser">
<span class="md-ellipsis">
      
        Implement TokenUsageParser
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#token-usage-for-evaluations">
<span class="md-ellipsis">
      
        Token Usage for Evaluations
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#token-usage-for-testset-generation">
<span class="md-ellipsis">
      
        Token Usage for Testset Generation
      
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<nav aria-label="Navigation" class="md-path">
<ol class="md-path__list">
<li class="md-path__item">
<a class="md-path__link" href="../../../index.html">
<span class="md-ellipsis">
</span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../../index.html">
<span class="md-ellipsis">
    üõ†Ô∏è How-to Guides
  </span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../index.html">
<span class="md-ellipsis">
    Applications
  </span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="index.html">
<span class="md-ellipsis">
    Metrics
  </span>
</a>
</li>
</ol>
</nav>
<article class="md-content__inner md-typeset">
<h1 id="how-to-estimate-cost-and-usage-of-evaluations-and-testset-generation">How to estimate Cost and Usage of evaluations and testset generation</h1>
<p>When using LLMs for evaluation and test set generation, cost will be an important factor. Zibly provides you some tools to help you with that.</p>
<h2 id="implement-tokenusageparser">Implement <code>TokenUsageParser</code></h2>
<p>By default Zibly does not calculate the usage of tokens for <code>evaluate()</code>. This is because langchain's LLMs do not always return information about token usage in a uniform way. So in order to get the usage data, we have to implement a <code>TokenUsageParser</code>. </p>
<p>A <code>TokenUsageParser</code> is function that parses the <code>LLMResult</code> or <code>ChatResult</code> from langchain models <code>generate_prompt()</code> function and outputs <code>TokenUsage</code> which Zibly expects.</p>
<p>For an example here is one that will parse OpenAI by using a parser we have defined.</p>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a href="index.html#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai.chat_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatOpenAI</span>
</span><span id="__span-0-2"><a href="index.html#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">langchain_core.prompt_values</span><span class="w"> </span><span class="kn">import</span> <span class="n">StringPromptValue</span>
</span><span id="__span-0-3"><a href="index.html#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>
</span><span id="__span-0-4"><a href="index.html#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="n">gpt4o</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4o"</span><span class="p">)</span>
</span><span id="__span-0-5"><a href="index.html#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="n">p</span> <span class="o">=</span> <span class="n">StringPromptValue</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">"hai there"</span><span class="p">)</span>
</span><span id="__span-0-6"><a href="index.html#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="n">llm_result</span> <span class="o">=</span> <span class="n">gpt4o</span><span class="o">.</span><span class="n">generate_prompt</span><span class="p">([</span><span class="n">p</span><span class="p">])</span>
</span><span id="__span-0-7"><a href="index.html#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>
</span><span id="__span-0-8"><a href="index.html#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="c1"># lets import a parser for OpenAI</span>
</span><span id="__span-0-9"><a href="index.html#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.cost</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_token_usage_for_openai</span>
</span><span id="__span-0-10"><a href="index.html#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>
</span><span id="__span-0-11"><a href="index.html#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="n">get_token_usage_for_openai</span><span class="p">(</span><span class="n">llm_result</span><span class="p">)</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a href="index.html#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>TokenUsage(input_tokens=9, output_tokens=9, model='')
</span></code></pre></div></p>
<p>You can define your own or import parsers if they are defined. If you would like to suggest parser for LLM providers or contribute your own ones please check out this <a href="https://github.com/zibly-foundation/zibly/issues/1151">issue</a> üôÇ.</p>
<h2 id="token-usage-for-evaluations">Token Usage for Evaluations</h2>
<p>Let's use the <code>get_token_usage_for_openai</code> parser to calculate the token usage for an evaluation.</p>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a href="index.html#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly</span><span class="w"> </span><span class="kn">import</span> <span class="n">EvaluationDataset</span>
</span><span id="__span-2-2"><a href="index.html#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dataset</span>
</span><span id="__span-2-3"><a href="index.html#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a>
</span><span id="__span-2-4"><a href="index.html#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="n">dataset</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s2">"zibly-foundation/amnesty_qa"</span><span class="p">,</span> <span class="s2">"english_v3"</span><span class="p">)</span>
</span><span id="__span-2-5"><a href="index.html#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>
</span><span id="__span-2-6"><a href="index.html#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="n">eval_dataset</span> <span class="o">=</span> <span class="n">EvaluationDataset</span><span class="o">.</span><span class="n">from_hf_dataset</span><span class="p">(</span><span class="n">dataset</span><span class="p">[</span><span class="s2">"eval"</span><span class="p">])</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a href="index.html#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>Repo card metadata block was not found. Setting CardData to empty.
</span></code></pre></div></p>
<p>You can pass in the parser to the <code>evaluate()</code> function and the cost will be calculated and returned in the <code>Result</code> object.</p>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a href="index.html#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly</span><span class="w"> </span><span class="kn">import</span> <span class="n">evaluate</span>
</span><span id="__span-4-2"><a href="index.html#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">LLMContextRecall</span>
</span><span id="__span-4-3"><a href="index.html#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a>
</span><span id="__span-4-4"><a href="index.html#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.cost</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_token_usage_for_openai</span>
</span><span id="__span-4-5"><a href="index.html#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a>
</span><span id="__span-4-6"><a href="index.html#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span>
</span><span id="__span-4-7"><a href="index.html#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a>    <span class="n">eval_dataset</span><span class="p">,</span>
</span><span id="__span-4-8"><a href="index.html#__codelineno-4-8" id="__codelineno-4-8" name="__codelineno-4-8"></a>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">LLMContextRecall</span><span class="p">()],</span>
</span><span id="__span-4-9"><a href="index.html#__codelineno-4-9" id="__codelineno-4-9" name="__codelineno-4-9"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">gpt4o</span><span class="p">,</span>
</span><span id="__span-4-10"><a href="index.html#__codelineno-4-10" id="__codelineno-4-10" name="__codelineno-4-10"></a>    <span class="n">token_usage_parser</span><span class="o">=</span><span class="n">get_token_usage_for_openai</span><span class="p">,</span>
</span><span id="__span-4-11"><a href="index.html#__codelineno-4-11" id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="p">)</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a href="index.html#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>Evaluating:   0%|          | 0/20 [00:00&lt;?, ?it/s]
</span></code></pre></div></p>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a href="index.html#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">result</span><span class="o">.</span><span class="n">total_tokens</span><span class="p">()</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a href="index.html#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>TokenUsage(input_tokens=25097, output_tokens=3757, model='')
</span></code></pre></div></p>
<p>You can compute the cost for each run by passing in the cost per token to <code>Result.total_cost()</code> function.</p>
<p>In this case GPT-4o costs $5 for 1M input tokens and $15 for 1M output tokens.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a href="index.html#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">result</span><span class="o">.</span><span class="n">total_cost</span><span class="p">(</span><span class="n">cost_per_input_token</span><span class="o">=</span><span class="mi">5</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">,</span> <span class="n">cost_per_output_token</span><span class="o">=</span><span class="mi">15</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">)</span>
</span></code></pre></div>
<p>Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a href="index.html#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a>1.1692900000000002
</span></code></pre></div></p>
<h2 id="token-usage-for-testset-generation">Token Usage for Testset Generation</h2>
<p>You can use the same parser for testset generation but you need to pass in the <code>token_usage_parser</code> to the <code>generate()</code> function. For now it only calculates the cost for the generation process and not the cost for the transforms.</p>
<p>For an example let's load an existing KnowledgeGraph and generate a testset. If you want to know more about how to generate a testset please check out the <a href="../../../getstarted/rag_testset_generation/index.html#a-deeper-look">testset generation</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a href="index.html#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.testset.graph</span><span class="w"> </span><span class="kn">import</span> <span class="n">KnowledgeGraph</span>
</span><span id="__span-10-2"><a href="index.html#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>
</span><span id="__span-10-3"><a href="index.html#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="c1"># loading an existing KnowledgeGraph</span>
</span><span id="__span-10-4"><a href="index.html#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="c1"># make sure to change the path to the location of the KnowledgeGraph file</span>
</span><span id="__span-10-5"><a href="index.html#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="n">kg</span> <span class="o">=</span> <span class="n">KnowledgeGraph</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">"../../../experiments/scratchpad_kg.json"</span><span class="p">)</span>
</span><span id="__span-10-6"><a href="index.html#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="n">kg</span>
</span></code></pre></div>
<p>Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a href="index.html#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>KnowledgeGraph(nodes: 47, relationships: 109)
</span><span id="__span-11-2"><a href="index.html#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a>
</span><span id="__span-11-3"><a href="index.html#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a>
</span><span id="__span-11-4"><a href="index.html#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a>
</span><span id="__span-11-5"><a href="index.html#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>### Choose your LLM
</span><span id="__span-11-6"><a href="index.html#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a>
</span><span id="__span-11-7"><a href="index.html#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a>=== "OpenAI"
</span><span id="__span-11-8"><a href="index.html#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a>    Install the langchain-openai package
</span><span id="__span-11-9"><a href="index.html#__codelineno-11-9" id="__codelineno-11-9" name="__codelineno-11-9"></a>
</span><span id="__span-11-10"><a href="index.html#__codelineno-11-10" id="__codelineno-11-10" name="__codelineno-11-10"></a>    ```bash
</span><span id="__span-11-11"><a href="index.html#__codelineno-11-11" id="__codelineno-11-11" name="__codelineno-11-11"></a>    pip install langchain-openai
</span><span id="__span-11-12"><a href="index.html#__codelineno-11-12" id="__codelineno-11-12" name="__codelineno-11-12"></a>    ```
</span><span id="__span-11-13"><a href="index.html#__codelineno-11-13" id="__codelineno-11-13" name="__codelineno-11-13"></a>
</span><span id="__span-11-14"><a href="index.html#__codelineno-11-14" id="__codelineno-11-14" name="__codelineno-11-14"></a>    then ensure you have your OpenAI key ready and available in your environment
</span><span id="__span-11-15"><a href="index.html#__codelineno-11-15" id="__codelineno-11-15" name="__codelineno-11-15"></a>
</span><span id="__span-11-16"><a href="index.html#__codelineno-11-16" id="__codelineno-11-16" name="__codelineno-11-16"></a>    ```python
</span><span id="__span-11-17"><a href="index.html#__codelineno-11-17" id="__codelineno-11-17" name="__codelineno-11-17"></a>    import os
</span><span id="__span-11-18"><a href="index.html#__codelineno-11-18" id="__codelineno-11-18" name="__codelineno-11-18"></a>    os.environ["OPENAI_API_KEY"] = "your-openai-key"
</span><span id="__span-11-19"><a href="index.html#__codelineno-11-19" id="__codelineno-11-19" name="__codelineno-11-19"></a>    ```
</span><span id="__span-11-20"><a href="index.html#__codelineno-11-20" id="__codelineno-11-20" name="__codelineno-11-20"></a>
</span><span id="__span-11-21"><a href="index.html#__codelineno-11-21" id="__codelineno-11-21" name="__codelineno-11-21"></a>    Wrapp the LLMs in `LangchainLLMWrapper` so that it can be used with zibly.
</span><span id="__span-11-22"><a href="index.html#__codelineno-11-22" id="__codelineno-11-22" name="__codelineno-11-22"></a>
</span><span id="__span-11-23"><a href="index.html#__codelineno-11-23" id="__codelineno-11-23" name="__codelineno-11-23"></a>    ```python
</span><span id="__span-11-24"><a href="index.html#__codelineno-11-24" id="__codelineno-11-24" name="__codelineno-11-24"></a>    from zibly.llms import LangchainLLMWrapper
</span><span id="__span-11-25"><a href="index.html#__codelineno-11-25" id="__codelineno-11-25" name="__codelineno-11-25"></a>    from zibly.embeddings import LangchainEmbeddingsWrapper
</span><span id="__span-11-26"><a href="index.html#__codelineno-11-26" id="__codelineno-11-26" name="__codelineno-11-26"></a>    from langchain_openai import ChatOpenAI
</span><span id="__span-11-27"><a href="index.html#__codelineno-11-27" id="__codelineno-11-27" name="__codelineno-11-27"></a>    from langchain_openai import OpenAIEmbeddings
</span><span id="__span-11-28"><a href="index.html#__codelineno-11-28" id="__codelineno-11-28" name="__codelineno-11-28"></a>    generator_llm = LangchainLLMWrapper(ChatOpenAI(model="gpt-4o"))
</span><span id="__span-11-29"><a href="index.html#__codelineno-11-29" id="__codelineno-11-29" name="__codelineno-11-29"></a>    generator_embeddings = LangchainEmbeddingsWrapper(OpenAIEmbeddings())
</span><span id="__span-11-30"><a href="index.html#__codelineno-11-30" id="__codelineno-11-30" name="__codelineno-11-30"></a>    ```
</span><span id="__span-11-31"><a href="index.html#__codelineno-11-31" id="__codelineno-11-31" name="__codelineno-11-31"></a>
</span><span id="__span-11-32"><a href="index.html#__codelineno-11-32" id="__codelineno-11-32" name="__codelineno-11-32"></a>
</span><span id="__span-11-33"><a href="index.html#__codelineno-11-33" id="__codelineno-11-33" name="__codelineno-11-33"></a>=== "AWS"
</span><span id="__span-11-34"><a href="index.html#__codelineno-11-34" id="__codelineno-11-34" name="__codelineno-11-34"></a>    Install the langchain-aws package
</span><span id="__span-11-35"><a href="index.html#__codelineno-11-35" id="__codelineno-11-35" name="__codelineno-11-35"></a>
</span><span id="__span-11-36"><a href="index.html#__codelineno-11-36" id="__codelineno-11-36" name="__codelineno-11-36"></a>    ```bash
</span><span id="__span-11-37"><a href="index.html#__codelineno-11-37" id="__codelineno-11-37" name="__codelineno-11-37"></a>    pip install langchain-aws
</span><span id="__span-11-38"><a href="index.html#__codelineno-11-38" id="__codelineno-11-38" name="__codelineno-11-38"></a>    ```
</span><span id="__span-11-39"><a href="index.html#__codelineno-11-39" id="__codelineno-11-39" name="__codelineno-11-39"></a>
</span><span id="__span-11-40"><a href="index.html#__codelineno-11-40" id="__codelineno-11-40" name="__codelineno-11-40"></a>    then you have to set your AWS credentials and configurations
</span><span id="__span-11-41"><a href="index.html#__codelineno-11-41" id="__codelineno-11-41" name="__codelineno-11-41"></a>
</span><span id="__span-11-42"><a href="index.html#__codelineno-11-42" id="__codelineno-11-42" name="__codelineno-11-42"></a>    ```python
</span><span id="__span-11-43"><a href="index.html#__codelineno-11-43" id="__codelineno-11-43" name="__codelineno-11-43"></a>    config = {
</span><span id="__span-11-44"><a href="index.html#__codelineno-11-44" id="__codelineno-11-44" name="__codelineno-11-44"></a>        "credentials_profile_name": "your-profile-name",  # E.g "default"
</span><span id="__span-11-45"><a href="index.html#__codelineno-11-45" id="__codelineno-11-45" name="__codelineno-11-45"></a>        "region_name": "your-region-name",  # E.g. "us-east-1"
</span><span id="__span-11-46"><a href="index.html#__codelineno-11-46" id="__codelineno-11-46" name="__codelineno-11-46"></a>        "llm": "your-llm-model-id",  # E.g "anthropic.claude-3-5-sonnet-20241022-v2:0"
</span><span id="__span-11-47"><a href="index.html#__codelineno-11-47" id="__codelineno-11-47" name="__codelineno-11-47"></a>        "embeddings": "your-embedding-model-id",  # E.g "amazon.titan-embed-text-v2:0"
</span><span id="__span-11-48"><a href="index.html#__codelineno-11-48" id="__codelineno-11-48" name="__codelineno-11-48"></a>        "temperature": 0.4,
</span><span id="__span-11-49"><a href="index.html#__codelineno-11-49" id="__codelineno-11-49" name="__codelineno-11-49"></a>    }
</span><span id="__span-11-50"><a href="index.html#__codelineno-11-50" id="__codelineno-11-50" name="__codelineno-11-50"></a>    ```
</span><span id="__span-11-51"><a href="index.html#__codelineno-11-51" id="__codelineno-11-51" name="__codelineno-11-51"></a>
</span><span id="__span-11-52"><a href="index.html#__codelineno-11-52" id="__codelineno-11-52" name="__codelineno-11-52"></a>    define you LLMs and wrap them in `LangchainLLMWrapper` so that it can be used with zibly.
</span><span id="__span-11-53"><a href="index.html#__codelineno-11-53" id="__codelineno-11-53" name="__codelineno-11-53"></a>
</span><span id="__span-11-54"><a href="index.html#__codelineno-11-54" id="__codelineno-11-54" name="__codelineno-11-54"></a>    ```python
</span><span id="__span-11-55"><a href="index.html#__codelineno-11-55" id="__codelineno-11-55" name="__codelineno-11-55"></a>    from langchain_aws import ChatBedrockConverse
</span><span id="__span-11-56"><a href="index.html#__codelineno-11-56" id="__codelineno-11-56" name="__codelineno-11-56"></a>    from langchain_aws import BedrockEmbeddings
</span><span id="__span-11-57"><a href="index.html#__codelineno-11-57" id="__codelineno-11-57" name="__codelineno-11-57"></a>    from zibly.llms import LangchainLLMWrapper
</span><span id="__span-11-58"><a href="index.html#__codelineno-11-58" id="__codelineno-11-58" name="__codelineno-11-58"></a>    from zibly.embeddings import LangchainEmbeddingsWrapper
</span><span id="__span-11-59"><a href="index.html#__codelineno-11-59" id="__codelineno-11-59" name="__codelineno-11-59"></a>
</span><span id="__span-11-60"><a href="index.html#__codelineno-11-60" id="__codelineno-11-60" name="__codelineno-11-60"></a>    generator_llm = LangchainLLMWrapper(ChatBedrockConverse(
</span><span id="__span-11-61"><a href="index.html#__codelineno-11-61" id="__codelineno-11-61" name="__codelineno-11-61"></a>        credentials_profile_name=config["credentials_profile_name"],
</span><span id="__span-11-62"><a href="index.html#__codelineno-11-62" id="__codelineno-11-62" name="__codelineno-11-62"></a>        region_name=config["region_name"],
</span><span id="__span-11-63"><a href="index.html#__codelineno-11-63" id="__codelineno-11-63" name="__codelineno-11-63"></a>        base_url=f"https://bedrock-runtime.{config['region_name']}.amazonaws.com",
</span><span id="__span-11-64"><a href="index.html#__codelineno-11-64" id="__codelineno-11-64" name="__codelineno-11-64"></a>        model=config["llm"],
</span><span id="__span-11-65"><a href="index.html#__codelineno-11-65" id="__codelineno-11-65" name="__codelineno-11-65"></a>        temperature=config["temperature"],
</span><span id="__span-11-66"><a href="index.html#__codelineno-11-66" id="__codelineno-11-66" name="__codelineno-11-66"></a>    ))
</span><span id="__span-11-67"><a href="index.html#__codelineno-11-67" id="__codelineno-11-67" name="__codelineno-11-67"></a>    generator_embeddings = LangchainEmbeddingsWrapper(BedrockEmbeddings(
</span><span id="__span-11-68"><a href="index.html#__codelineno-11-68" id="__codelineno-11-68" name="__codelineno-11-68"></a>        credentials_profile_name=config["credentials_profile_name"],
</span><span id="__span-11-69"><a href="index.html#__codelineno-11-69" id="__codelineno-11-69" name="__codelineno-11-69"></a>        region_name=config["region_name"],
</span><span id="__span-11-70"><a href="index.html#__codelineno-11-70" id="__codelineno-11-70" name="__codelineno-11-70"></a>        model_id=config["embeddings"],
</span><span id="__span-11-71"><a href="index.html#__codelineno-11-71" id="__codelineno-11-71" name="__codelineno-11-71"></a>    ))
</span><span id="__span-11-72"><a href="index.html#__codelineno-11-72" id="__codelineno-11-72" name="__codelineno-11-72"></a>    ```
</span><span id="__span-11-73"><a href="index.html#__codelineno-11-73" id="__codelineno-11-73" name="__codelineno-11-73"></a>
</span><span id="__span-11-74"><a href="index.html#__codelineno-11-74" id="__codelineno-11-74" name="__codelineno-11-74"></a>    If you want more information on how to use other AWS services, please refer to the [langchain-aws](https://python.langchain.com/docs/integrations/providers/aws/) documentation.
</span><span id="__span-11-75"><a href="index.html#__codelineno-11-75" id="__codelineno-11-75" name="__codelineno-11-75"></a>
</span><span id="__span-11-76"><a href="index.html#__codelineno-11-76" id="__codelineno-11-76" name="__codelineno-11-76"></a>=== "Google Cloud"
</span><span id="__span-11-77"><a href="index.html#__codelineno-11-77" id="__codelineno-11-77" name="__codelineno-11-77"></a>    Google offers two ways to access their models: Google AI and Google Cloud Vertex AI. Google AI requires just a Google account and API key, while Vertex AI requires a Google Cloud account with enterprise features.
</span><span id="__span-11-78"><a href="index.html#__codelineno-11-78" id="__codelineno-11-78" name="__codelineno-11-78"></a>
</span><span id="__span-11-79"><a href="index.html#__codelineno-11-79" id="__codelineno-11-79" name="__codelineno-11-79"></a>    First, install the required packages:
</span><span id="__span-11-80"><a href="index.html#__codelineno-11-80" id="__codelineno-11-80" name="__codelineno-11-80"></a>
</span><span id="__span-11-81"><a href="index.html#__codelineno-11-81" id="__codelineno-11-81" name="__codelineno-11-81"></a>    ```bash
</span><span id="__span-11-82"><a href="index.html#__codelineno-11-82" id="__codelineno-11-82" name="__codelineno-11-82"></a>    pip install langchain-google-genai langchain-google-vertexai
</span><span id="__span-11-83"><a href="index.html#__codelineno-11-83" id="__codelineno-11-83" name="__codelineno-11-83"></a>    ```
</span><span id="__span-11-84"><a href="index.html#__codelineno-11-84" id="__codelineno-11-84" name="__codelineno-11-84"></a>
</span><span id="__span-11-85"><a href="index.html#__codelineno-11-85" id="__codelineno-11-85" name="__codelineno-11-85"></a>    Then set up your credentials based on your chosen API:
</span><span id="__span-11-86"><a href="index.html#__codelineno-11-86" id="__codelineno-11-86" name="__codelineno-11-86"></a>
</span><span id="__span-11-87"><a href="index.html#__codelineno-11-87" id="__codelineno-11-87" name="__codelineno-11-87"></a>    For Google AI:
</span><span id="__span-11-88"><a href="index.html#__codelineno-11-88" id="__codelineno-11-88" name="__codelineno-11-88"></a>
</span><span id="__span-11-89"><a href="index.html#__codelineno-11-89" id="__codelineno-11-89" name="__codelineno-11-89"></a>    ```python
</span><span id="__span-11-90"><a href="index.html#__codelineno-11-90" id="__codelineno-11-90" name="__codelineno-11-90"></a>    import os
</span><span id="__span-11-91"><a href="index.html#__codelineno-11-91" id="__codelineno-11-91" name="__codelineno-11-91"></a>    os.environ["GOOGLE_API_KEY"] = "your-google-ai-key"  # From https://ai.google.dev/
</span><span id="__span-11-92"><a href="index.html#__codelineno-11-92" id="__codelineno-11-92" name="__codelineno-11-92"></a>    ```
</span><span id="__span-11-93"><a href="index.html#__codelineno-11-93" id="__codelineno-11-93" name="__codelineno-11-93"></a>
</span><span id="__span-11-94"><a href="index.html#__codelineno-11-94" id="__codelineno-11-94" name="__codelineno-11-94"></a>    For Vertex AI:
</span><span id="__span-11-95"><a href="index.html#__codelineno-11-95" id="__codelineno-11-95" name="__codelineno-11-95"></a>
</span><span id="__span-11-96"><a href="index.html#__codelineno-11-96" id="__codelineno-11-96" name="__codelineno-11-96"></a>    ```python
</span><span id="__span-11-97"><a href="index.html#__codelineno-11-97" id="__codelineno-11-97" name="__codelineno-11-97"></a>    # Ensure you have credentials configured (gcloud, workload identity, etc.)
</span><span id="__span-11-98"><a href="index.html#__codelineno-11-98" id="__codelineno-11-98" name="__codelineno-11-98"></a>    # Or set service account JSON path:
</span><span id="__span-11-99"><a href="index.html#__codelineno-11-99" id="__codelineno-11-99" name="__codelineno-11-99"></a>    os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = "path/to/service-account.json"
</span><span id="__span-11-100"><a href="index.html#__codelineno-11-100" id="__codelineno-11-100" name="__codelineno-11-100"></a>    ```
</span><span id="__span-11-101"><a href="index.html#__codelineno-11-101" id="__codelineno-11-101" name="__codelineno-11-101"></a>
</span><span id="__span-11-102"><a href="index.html#__codelineno-11-102" id="__codelineno-11-102" name="__codelineno-11-102"></a>    Define your configuration:
</span><span id="__span-11-103"><a href="index.html#__codelineno-11-103" id="__codelineno-11-103" name="__codelineno-11-103"></a>
</span><span id="__span-11-104"><a href="index.html#__codelineno-11-104" id="__codelineno-11-104" name="__codelineno-11-104"></a>    ```python
</span><span id="__span-11-105"><a href="index.html#__codelineno-11-105" id="__codelineno-11-105" name="__codelineno-11-105"></a>    config = {
</span><span id="__span-11-106"><a href="index.html#__codelineno-11-106" id="__codelineno-11-106" name="__codelineno-11-106"></a>        "model": "gemini-1.5-pro",  # or other model IDs
</span><span id="__span-11-107"><a href="index.html#__codelineno-11-107" id="__codelineno-11-107" name="__codelineno-11-107"></a>        "temperature": 0.4,
</span><span id="__span-11-108"><a href="index.html#__codelineno-11-108" id="__codelineno-11-108" name="__codelineno-11-108"></a>        "max_tokens": None,
</span><span id="__span-11-109"><a href="index.html#__codelineno-11-109" id="__codelineno-11-109" name="__codelineno-11-109"></a>        "top_p": 0.8,
</span><span id="__span-11-110"><a href="index.html#__codelineno-11-110" id="__codelineno-11-110" name="__codelineno-11-110"></a>        # For Vertex AI only:
</span><span id="__span-11-111"><a href="index.html#__codelineno-11-111" id="__codelineno-11-111" name="__codelineno-11-111"></a>        "project": "your-project-id",  # Required for Vertex AI
</span><span id="__span-11-112"><a href="index.html#__codelineno-11-112" id="__codelineno-11-112" name="__codelineno-11-112"></a>        "location": "us-central1",     # Required for Vertex AI
</span><span id="__span-11-113"><a href="index.html#__codelineno-11-113" id="__codelineno-11-113" name="__codelineno-11-113"></a>    }
</span><span id="__span-11-114"><a href="index.html#__codelineno-11-114" id="__codelineno-11-114" name="__codelineno-11-114"></a>    ```
</span><span id="__span-11-115"><a href="index.html#__codelineno-11-115" id="__codelineno-11-115" name="__codelineno-11-115"></a>
</span><span id="__span-11-116"><a href="index.html#__codelineno-11-116" id="__codelineno-11-116" name="__codelineno-11-116"></a>    Initialize the LLM and wrap it for use with zibly:
</span><span id="__span-11-117"><a href="index.html#__codelineno-11-117" id="__codelineno-11-117" name="__codelineno-11-117"></a>
</span><span id="__span-11-118"><a href="index.html#__codelineno-11-118" id="__codelineno-11-118" name="__codelineno-11-118"></a>    ```python
</span><span id="__span-11-119"><a href="index.html#__codelineno-11-119" id="__codelineno-11-119" name="__codelineno-11-119"></a>    from zibly.llms import LangchainLLMWrapper
</span><span id="__span-11-120"><a href="index.html#__codelineno-11-120" id="__codelineno-11-120" name="__codelineno-11-120"></a>    from zibly.embeddings import LangchainEmbeddingsWrapper
</span><span id="__span-11-121"><a href="index.html#__codelineno-11-121" id="__codelineno-11-121" name="__codelineno-11-121"></a>
</span><span id="__span-11-122"><a href="index.html#__codelineno-11-122" id="__codelineno-11-122" name="__codelineno-11-122"></a>    # Choose the appropriate import based on your API:
</span><span id="__span-11-123"><a href="index.html#__codelineno-11-123" id="__codelineno-11-123" name="__codelineno-11-123"></a>    from langchain_google_genai import ChatGoogleGenerativeAI
</span><span id="__span-11-124"><a href="index.html#__codelineno-11-124" id="__codelineno-11-124" name="__codelineno-11-124"></a>    from langchain_google_vertexai import ChatVertexAI
</span><span id="__span-11-125"><a href="index.html#__codelineno-11-125" id="__codelineno-11-125" name="__codelineno-11-125"></a>
</span><span id="__span-11-126"><a href="index.html#__codelineno-11-126" id="__codelineno-11-126" name="__codelineno-11-126"></a>    # Initialize with Google AI Studio
</span><span id="__span-11-127"><a href="index.html#__codelineno-11-127" id="__codelineno-11-127" name="__codelineno-11-127"></a>    generator_llm = LangchainLLMWrapper(ChatGoogleGenerativeAI(
</span><span id="__span-11-128"><a href="index.html#__codelineno-11-128" id="__codelineno-11-128" name="__codelineno-11-128"></a>        model=config["model"],
</span><span id="__span-11-129"><a href="index.html#__codelineno-11-129" id="__codelineno-11-129" name="__codelineno-11-129"></a>        temperature=config["temperature"],
</span><span id="__span-11-130"><a href="index.html#__codelineno-11-130" id="__codelineno-11-130" name="__codelineno-11-130"></a>        max_tokens=config["max_tokens"],
</span><span id="__span-11-131"><a href="index.html#__codelineno-11-131" id="__codelineno-11-131" name="__codelineno-11-131"></a>        top_p=config["top_p"],
</span><span id="__span-11-132"><a href="index.html#__codelineno-11-132" id="__codelineno-11-132" name="__codelineno-11-132"></a>    ))
</span><span id="__span-11-133"><a href="index.html#__codelineno-11-133" id="__codelineno-11-133" name="__codelineno-11-133"></a>
</span><span id="__span-11-134"><a href="index.html#__codelineno-11-134" id="__codelineno-11-134" name="__codelineno-11-134"></a>    # Or initialize with Vertex AI
</span><span id="__span-11-135"><a href="index.html#__codelineno-11-135" id="__codelineno-11-135" name="__codelineno-11-135"></a>    generator_llm = LangchainLLMWrapper(ChatVertexAI(
</span><span id="__span-11-136"><a href="index.html#__codelineno-11-136" id="__codelineno-11-136" name="__codelineno-11-136"></a>        model=config["model"],
</span><span id="__span-11-137"><a href="index.html#__codelineno-11-137" id="__codelineno-11-137" name="__codelineno-11-137"></a>        temperature=config["temperature"],
</span><span id="__span-11-138"><a href="index.html#__codelineno-11-138" id="__codelineno-11-138" name="__codelineno-11-138"></a>        max_tokens=config["max_tokens"],
</span><span id="__span-11-139"><a href="index.html#__codelineno-11-139" id="__codelineno-11-139" name="__codelineno-11-139"></a>        top_p=config["top_p"],
</span><span id="__span-11-140"><a href="index.html#__codelineno-11-140" id="__codelineno-11-140" name="__codelineno-11-140"></a>        project=config["project"],
</span><span id="__span-11-141"><a href="index.html#__codelineno-11-141" id="__codelineno-11-141" name="__codelineno-11-141"></a>        location=config["location"],
</span><span id="__span-11-142"><a href="index.html#__codelineno-11-142" id="__codelineno-11-142" name="__codelineno-11-142"></a>    ))
</span><span id="__span-11-143"><a href="index.html#__codelineno-11-143" id="__codelineno-11-143" name="__codelineno-11-143"></a>    ```
</span><span id="__span-11-144"><a href="index.html#__codelineno-11-144" id="__codelineno-11-144" name="__codelineno-11-144"></a>
</span><span id="__span-11-145"><a href="index.html#__codelineno-11-145" id="__codelineno-11-145" name="__codelineno-11-145"></a>
</span><span id="__span-11-146"><a href="index.html#__codelineno-11-146" id="__codelineno-11-146" name="__codelineno-11-146"></a>    You can optionally configure safety settings:
</span><span id="__span-11-147"><a href="index.html#__codelineno-11-147" id="__codelineno-11-147" name="__codelineno-11-147"></a>
</span><span id="__span-11-148"><a href="index.html#__codelineno-11-148" id="__codelineno-11-148" name="__codelineno-11-148"></a>    ```python
</span><span id="__span-11-149"><a href="index.html#__codelineno-11-149" id="__codelineno-11-149" name="__codelineno-11-149"></a>    from langchain_google_genai import HarmCategory, HarmBlockThreshold
</span><span id="__span-11-150"><a href="index.html#__codelineno-11-150" id="__codelineno-11-150" name="__codelineno-11-150"></a>
</span><span id="__span-11-151"><a href="index.html#__codelineno-11-151" id="__codelineno-11-151" name="__codelineno-11-151"></a>    safety_settings = {
</span><span id="__span-11-152"><a href="index.html#__codelineno-11-152" id="__codelineno-11-152" name="__codelineno-11-152"></a>        HarmCategory.HARM_CATEGORY_DANGEROUS_CONTENT: HarmBlockThreshold.BLOCK_NONE,
</span><span id="__span-11-153"><a href="index.html#__codelineno-11-153" id="__codelineno-11-153" name="__codelineno-11-153"></a>        # Add other safety settings as needed
</span><span id="__span-11-154"><a href="index.html#__codelineno-11-154" id="__codelineno-11-154" name="__codelineno-11-154"></a>    }
</span><span id="__span-11-155"><a href="index.html#__codelineno-11-155" id="__codelineno-11-155" name="__codelineno-11-155"></a>
</span><span id="__span-11-156"><a href="index.html#__codelineno-11-156" id="__codelineno-11-156" name="__codelineno-11-156"></a>    # Apply to your LLM initialization
</span><span id="__span-11-157"><a href="index.html#__codelineno-11-157" id="__codelineno-11-157" name="__codelineno-11-157"></a>    generator_llm = LangchainLLMWrapper(ChatGoogleGenerativeAI(
</span><span id="__span-11-158"><a href="index.html#__codelineno-11-158" id="__codelineno-11-158" name="__codelineno-11-158"></a>        model=config["model"],
</span><span id="__span-11-159"><a href="index.html#__codelineno-11-159" id="__codelineno-11-159" name="__codelineno-11-159"></a>        temperature=config["temperature"],
</span><span id="__span-11-160"><a href="index.html#__codelineno-11-160" id="__codelineno-11-160" name="__codelineno-11-160"></a>        safety_settings=safety_settings,
</span><span id="__span-11-161"><a href="index.html#__codelineno-11-161" id="__codelineno-11-161" name="__codelineno-11-161"></a>    ))
</span><span id="__span-11-162"><a href="index.html#__codelineno-11-162" id="__codelineno-11-162" name="__codelineno-11-162"></a>    ```
</span><span id="__span-11-163"><a href="index.html#__codelineno-11-163" id="__codelineno-11-163" name="__codelineno-11-163"></a>
</span><span id="__span-11-164"><a href="index.html#__codelineno-11-164" id="__codelineno-11-164" name="__codelineno-11-164"></a>    Initialize the embeddings and wrap them for use with zibly:
</span><span id="__span-11-165"><a href="index.html#__codelineno-11-165" id="__codelineno-11-165" name="__codelineno-11-165"></a>
</span><span id="__span-11-166"><a href="index.html#__codelineno-11-166" id="__codelineno-11-166" name="__codelineno-11-166"></a>    ```python
</span><span id="__span-11-167"><a href="index.html#__codelineno-11-167" id="__codelineno-11-167" name="__codelineno-11-167"></a>    # Google AI Studio Embeddings
</span><span id="__span-11-168"><a href="index.html#__codelineno-11-168" id="__codelineno-11-168" name="__codelineno-11-168"></a>    from langchain_google_genai import GoogleGenerativeAIEmbeddings
</span><span id="__span-11-169"><a href="index.html#__codelineno-11-169" id="__codelineno-11-169" name="__codelineno-11-169"></a>
</span><span id="__span-11-170"><a href="index.html#__codelineno-11-170" id="__codelineno-11-170" name="__codelineno-11-170"></a>    generator_embeddings = LangchainEmbeddingsWrapper(GoogleGenerativeAIEmbeddings(
</span><span id="__span-11-171"><a href="index.html#__codelineno-11-171" id="__codelineno-11-171" name="__codelineno-11-171"></a>        model="models/embedding-001",  # Google's text embedding model
</span><span id="__span-11-172"><a href="index.html#__codelineno-11-172" id="__codelineno-11-172" name="__codelineno-11-172"></a>        task_type="retrieval_document"  # Optional: specify the task type
</span><span id="__span-11-173"><a href="index.html#__codelineno-11-173" id="__codelineno-11-173" name="__codelineno-11-173"></a>    ))
</span><span id="__span-11-174"><a href="index.html#__codelineno-11-174" id="__codelineno-11-174" name="__codelineno-11-174"></a>    ```
</span><span id="__span-11-175"><a href="index.html#__codelineno-11-175" id="__codelineno-11-175" name="__codelineno-11-175"></a>
</span><span id="__span-11-176"><a href="index.html#__codelineno-11-176" id="__codelineno-11-176" name="__codelineno-11-176"></a>    ```python
</span><span id="__span-11-177"><a href="index.html#__codelineno-11-177" id="__codelineno-11-177" name="__codelineno-11-177"></a>    # Vertex AI Embeddings
</span><span id="__span-11-178"><a href="index.html#__codelineno-11-178" id="__codelineno-11-178" name="__codelineno-11-178"></a>    from langchain_google_vertexai import VertexAIEmbeddings
</span><span id="__span-11-179"><a href="index.html#__codelineno-11-179" id="__codelineno-11-179" name="__codelineno-11-179"></a>
</span><span id="__span-11-180"><a href="index.html#__codelineno-11-180" id="__codelineno-11-180" name="__codelineno-11-180"></a>    generator_embeddings = LangchainEmbeddingsWrapper(VertexAIEmbeddings(
</span><span id="__span-11-181"><a href="index.html#__codelineno-11-181" id="__codelineno-11-181" name="__codelineno-11-181"></a>        model_name="textembedding-gecko@001",  # or other available model
</span><span id="__span-11-182"><a href="index.html#__codelineno-11-182" id="__codelineno-11-182" name="__codelineno-11-182"></a>        project=config["project"],  # Your GCP project ID
</span><span id="__span-11-183"><a href="index.html#__codelineno-11-183" id="__codelineno-11-183" name="__codelineno-11-183"></a>        location=config["location"]  # Your GCP location
</span><span id="__span-11-184"><a href="index.html#__codelineno-11-184" id="__codelineno-11-184" name="__codelineno-11-184"></a>    ))
</span><span id="__span-11-185"><a href="index.html#__codelineno-11-185" id="__codelineno-11-185" name="__codelineno-11-185"></a>    ```
</span><span id="__span-11-186"><a href="index.html#__codelineno-11-186" id="__codelineno-11-186" name="__codelineno-11-186"></a>
</span><span id="__span-11-187"><a href="index.html#__codelineno-11-187" id="__codelineno-11-187" name="__codelineno-11-187"></a>    For more information on available models, features, and configurations, refer to: [Google AI documentation](https://ai.google.dev/docs)
</span><span id="__span-11-188"><a href="index.html#__codelineno-11-188" id="__codelineno-11-188" name="__codelineno-11-188"></a>    - [Vertex AI documentation](https://cloud.google.com/vertex-ai/docs)
</span><span id="__span-11-189"><a href="index.html#__codelineno-11-189" id="__codelineno-11-189" name="__codelineno-11-189"></a>    - [LangChain Google AI integration](https://python.langchain.com/docs/integrations/chat/google_generative_ai)
</span><span id="__span-11-190"><a href="index.html#__codelineno-11-190" id="__codelineno-11-190" name="__codelineno-11-190"></a>    - [LangChain Vertex AI integration](https://python.langchain.com/docs/integrations/chat/google_vertex_ai)
</span><span id="__span-11-191"><a href="index.html#__codelineno-11-191" id="__codelineno-11-191" name="__codelineno-11-191"></a>
</span><span id="__span-11-192"><a href="index.html#__codelineno-11-192" id="__codelineno-11-192" name="__codelineno-11-192"></a>
</span><span id="__span-11-193"><a href="index.html#__codelineno-11-193" id="__codelineno-11-193" name="__codelineno-11-193"></a>=== "Azure"
</span><span id="__span-11-194"><a href="index.html#__codelineno-11-194" id="__codelineno-11-194" name="__codelineno-11-194"></a>    Install the langchain-openai package
</span><span id="__span-11-195"><a href="index.html#__codelineno-11-195" id="__codelineno-11-195" name="__codelineno-11-195"></a>
</span><span id="__span-11-196"><a href="index.html#__codelineno-11-196" id="__codelineno-11-196" name="__codelineno-11-196"></a>    ```bash
</span><span id="__span-11-197"><a href="index.html#__codelineno-11-197" id="__codelineno-11-197" name="__codelineno-11-197"></a>    pip install langchain-openai
</span><span id="__span-11-198"><a href="index.html#__codelineno-11-198" id="__codelineno-11-198" name="__codelineno-11-198"></a>    ```
</span><span id="__span-11-199"><a href="index.html#__codelineno-11-199" id="__codelineno-11-199" name="__codelineno-11-199"></a>
</span><span id="__span-11-200"><a href="index.html#__codelineno-11-200" id="__codelineno-11-200" name="__codelineno-11-200"></a>    Ensure you have your Azure OpenAI key ready and available in your environment.
</span><span id="__span-11-201"><a href="index.html#__codelineno-11-201" id="__codelineno-11-201" name="__codelineno-11-201"></a>
</span><span id="__span-11-202"><a href="index.html#__codelineno-11-202" id="__codelineno-11-202" name="__codelineno-11-202"></a>    ```python
</span><span id="__span-11-203"><a href="index.html#__codelineno-11-203" id="__codelineno-11-203" name="__codelineno-11-203"></a>    import os
</span><span id="__span-11-204"><a href="index.html#__codelineno-11-204" id="__codelineno-11-204" name="__codelineno-11-204"></a>    os.environ["AZURE_OPENAI_API_KEY"] = "your-azure-openai-key"
</span><span id="__span-11-205"><a href="index.html#__codelineno-11-205" id="__codelineno-11-205" name="__codelineno-11-205"></a>
</span><span id="__span-11-206"><a href="index.html#__codelineno-11-206" id="__codelineno-11-206" name="__codelineno-11-206"></a>    # other configuration
</span><span id="__span-11-207"><a href="index.html#__codelineno-11-207" id="__codelineno-11-207" name="__codelineno-11-207"></a>    azure_config = {
</span><span id="__span-11-208"><a href="index.html#__codelineno-11-208" id="__codelineno-11-208" name="__codelineno-11-208"></a>        "base_url": "",  # your endpoint
</span><span id="__span-11-209"><a href="index.html#__codelineno-11-209" id="__codelineno-11-209" name="__codelineno-11-209"></a>        "model_deployment": "",  # your model deployment name
</span><span id="__span-11-210"><a href="index.html#__codelineno-11-210" id="__codelineno-11-210" name="__codelineno-11-210"></a>        "model_name": "",  # your model name
</span><span id="__span-11-211"><a href="index.html#__codelineno-11-211" id="__codelineno-11-211" name="__codelineno-11-211"></a>        "embedding_deployment": "",  # your embedding deployment name
</span><span id="__span-11-212"><a href="index.html#__codelineno-11-212" id="__codelineno-11-212" name="__codelineno-11-212"></a>        "embedding_name": "",  # your embedding name
</span><span id="__span-11-213"><a href="index.html#__codelineno-11-213" id="__codelineno-11-213" name="__codelineno-11-213"></a>    }
</span><span id="__span-11-214"><a href="index.html#__codelineno-11-214" id="__codelineno-11-214" name="__codelineno-11-214"></a>
</span><span id="__span-11-215"><a href="index.html#__codelineno-11-215" id="__codelineno-11-215" name="__codelineno-11-215"></a>    ```
</span><span id="__span-11-216"><a href="index.html#__codelineno-11-216" id="__codelineno-11-216" name="__codelineno-11-216"></a>
</span><span id="__span-11-217"><a href="index.html#__codelineno-11-217" id="__codelineno-11-217" name="__codelineno-11-217"></a>    Define your LLMs and wrap them in `LangchainLLMWrapper` so that it can be used with zibly.
</span><span id="__span-11-218"><a href="index.html#__codelineno-11-218" id="__codelineno-11-218" name="__codelineno-11-218"></a>
</span><span id="__span-11-219"><a href="index.html#__codelineno-11-219" id="__codelineno-11-219" name="__codelineno-11-219"></a>    ```python
</span><span id="__span-11-220"><a href="index.html#__codelineno-11-220" id="__codelineno-11-220" name="__codelineno-11-220"></a>    from langchain_openai import AzureChatOpenAI
</span><span id="__span-11-221"><a href="index.html#__codelineno-11-221" id="__codelineno-11-221" name="__codelineno-11-221"></a>    from langchain_openai import AzureOpenAIEmbeddings
</span><span id="__span-11-222"><a href="index.html#__codelineno-11-222" id="__codelineno-11-222" name="__codelineno-11-222"></a>    from zibly.llms import LangchainLLMWrapper
</span><span id="__span-11-223"><a href="index.html#__codelineno-11-223" id="__codelineno-11-223" name="__codelineno-11-223"></a>    from zibly.embeddings import LangchainEmbeddingsWrapper
</span><span id="__span-11-224"><a href="index.html#__codelineno-11-224" id="__codelineno-11-224" name="__codelineno-11-224"></a>    generator_llm = LangchainLLMWrapper(AzureChatOpenAI(
</span><span id="__span-11-225"><a href="index.html#__codelineno-11-225" id="__codelineno-11-225" name="__codelineno-11-225"></a>        openai_api_version="2023-05-15",
</span><span id="__span-11-226"><a href="index.html#__codelineno-11-226" id="__codelineno-11-226" name="__codelineno-11-226"></a>        azure_endpoint=azure_configs["base_url"],
</span><span id="__span-11-227"><a href="index.html#__codelineno-11-227" id="__codelineno-11-227" name="__codelineno-11-227"></a>        azure_deployment=azure_configs["model_deployment"],
</span><span id="__span-11-228"><a href="index.html#__codelineno-11-228" id="__codelineno-11-228" name="__codelineno-11-228"></a>        model=azure_configs["model_name"],
</span><span id="__span-11-229"><a href="index.html#__codelineno-11-229" id="__codelineno-11-229" name="__codelineno-11-229"></a>        validate_base_url=False,
</span><span id="__span-11-230"><a href="index.html#__codelineno-11-230" id="__codelineno-11-230" name="__codelineno-11-230"></a>    ))
</span><span id="__span-11-231"><a href="index.html#__codelineno-11-231" id="__codelineno-11-231" name="__codelineno-11-231"></a>
</span><span id="__span-11-232"><a href="index.html#__codelineno-11-232" id="__codelineno-11-232" name="__codelineno-11-232"></a>    # init the embeddings for answer_relevancy, answer_correctness and answer_similarity
</span><span id="__span-11-233"><a href="index.html#__codelineno-11-233" id="__codelineno-11-233" name="__codelineno-11-233"></a>    generator_embeddings = LangchainEmbeddingsWrapper(AzureOpenAIEmbeddings(
</span><span id="__span-11-234"><a href="index.html#__codelineno-11-234" id="__codelineno-11-234" name="__codelineno-11-234"></a>        openai_api_version="2023-05-15",
</span><span id="__span-11-235"><a href="index.html#__codelineno-11-235" id="__codelineno-11-235" name="__codelineno-11-235"></a>        azure_endpoint=azure_configs["base_url"],
</span><span id="__span-11-236"><a href="index.html#__codelineno-11-236" id="__codelineno-11-236" name="__codelineno-11-236"></a>        azure_deployment=azure_configs["embedding_deployment"],
</span><span id="__span-11-237"><a href="index.html#__codelineno-11-237" id="__codelineno-11-237" name="__codelineno-11-237"></a>        model=azure_configs["embedding_name"],
</span><span id="__span-11-238"><a href="index.html#__codelineno-11-238" id="__codelineno-11-238" name="__codelineno-11-238"></a>    ))
</span><span id="__span-11-239"><a href="index.html#__codelineno-11-239" id="__codelineno-11-239" name="__codelineno-11-239"></a>    ```
</span><span id="__span-11-240"><a href="index.html#__codelineno-11-240" id="__codelineno-11-240" name="__codelineno-11-240"></a>
</span><span id="__span-11-241"><a href="index.html#__codelineno-11-241" id="__codelineno-11-241" name="__codelineno-11-241"></a>    If you want more information on how to use other Azure services, please refer to the [langchain-azure](https://python.langchain.com/docs/integrations/chat/azure_chat_openai/) documentation.
</span><span id="__span-11-242"><a href="index.html#__codelineno-11-242" id="__codelineno-11-242" name="__codelineno-11-242"></a>
</span><span id="__span-11-243"><a href="index.html#__codelineno-11-243" id="__codelineno-11-243" name="__codelineno-11-243"></a>=== "Others"
</span><span id="__span-11-244"><a href="index.html#__codelineno-11-244" id="__codelineno-11-244" name="__codelineno-11-244"></a>    If you are using a different LLM provider and using Langchain to interact with it, you can wrap your LLM in `LangchainLLMWrapper` so that it can be used with zibly.
</span><span id="__span-11-245"><a href="index.html#__codelineno-11-245" id="__codelineno-11-245" name="__codelineno-11-245"></a>
</span><span id="__span-11-246"><a href="index.html#__codelineno-11-246" id="__codelineno-11-246" name="__codelineno-11-246"></a>    ```python
</span><span id="__span-11-247"><a href="index.html#__codelineno-11-247" id="__codelineno-11-247" name="__codelineno-11-247"></a>    from zibly.llms import LangchainLLMWrapper
</span><span id="__span-11-248"><a href="index.html#__codelineno-11-248" id="__codelineno-11-248" name="__codelineno-11-248"></a>    generator_llm = LangchainLLMWrapper(your_llm_instance)
</span><span id="__span-11-249"><a href="index.html#__codelineno-11-249" id="__codelineno-11-249" name="__codelineno-11-249"></a>    ```
</span><span id="__span-11-250"><a href="index.html#__codelineno-11-250" id="__codelineno-11-250" name="__codelineno-11-250"></a>
</span><span id="__span-11-251"><a href="index.html#__codelineno-11-251" id="__codelineno-11-251" name="__codelineno-11-251"></a>    For a more detailed guide, checkout [the guide on customizing models](../../howtos/customizations/customize_models.md).
</span><span id="__span-11-252"><a href="index.html#__codelineno-11-252" id="__codelineno-11-252" name="__codelineno-11-252"></a>
</span><span id="__span-11-253"><a href="index.html#__codelineno-11-253" id="__codelineno-11-253" name="__codelineno-11-253"></a>    If you using LlamaIndex, you can use the `LlamaIndexLLMWrapper` to wrap your LLM so that it can be used with zibly.
</span><span id="__span-11-254"><a href="index.html#__codelineno-11-254" id="__codelineno-11-254" name="__codelineno-11-254"></a>
</span><span id="__span-11-255"><a href="index.html#__codelineno-11-255" id="__codelineno-11-255" name="__codelineno-11-255"></a>    ```python
</span><span id="__span-11-256"><a href="index.html#__codelineno-11-256" id="__codelineno-11-256" name="__codelineno-11-256"></a>    from zibly.llms import LlamaIndexLLMWrapper
</span><span id="__span-11-257"><a href="index.html#__codelineno-11-257" id="__codelineno-11-257" name="__codelineno-11-257"></a>    generator_llm = LlamaIndexLLMWrapper(your_llm_instance)
</span><span id="__span-11-258"><a href="index.html#__codelineno-11-258" id="__codelineno-11-258" name="__codelineno-11-258"></a>    ```
</span><span id="__span-11-259"><a href="index.html#__codelineno-11-259" id="__codelineno-11-259" name="__codelineno-11-259"></a>
</span><span id="__span-11-260"><a href="index.html#__codelineno-11-260" id="__codelineno-11-260" name="__codelineno-11-260"></a>    For more information on how to use LlamaIndex, please refer to the [LlamaIndex Integration guide](./../../howtos/integrations/_llamaindex.md).
</span><span id="__span-11-261"><a href="index.html#__codelineno-11-261" id="__codelineno-11-261" name="__codelineno-11-261"></a>
</span><span id="__span-11-262"><a href="index.html#__codelineno-11-262" id="__codelineno-11-262" name="__codelineno-11-262"></a>    If your still not able use Zibly with your favorite LLM provider, please let us know by by commenting on this [issue](https://github.com/zibly-foundation/zibly/issues/1617) and we'll add support for it üôÇ.
</span><span id="__span-11-263"><a href="index.html#__codelineno-11-263" id="__codelineno-11-263" name="__codelineno-11-263"></a>
</span><span id="__span-11-264"><a href="index.html#__codelineno-11-264" id="__codelineno-11-264" name="__codelineno-11-264"></a>
</span><span id="__span-11-265"><a href="index.html#__codelineno-11-265" id="__codelineno-11-265" name="__codelineno-11-265"></a>```python
</span><span id="__span-11-266"><a href="index.html#__codelineno-11-266" id="__codelineno-11-266" name="__codelineno-11-266"></a>from zibly.testset import TestsetGenerator
</span><span id="__span-11-267"><a href="index.html#__codelineno-11-267" id="__codelineno-11-267" name="__codelineno-11-267"></a>from zibly.llms import llm_factory
</span><span id="__span-11-268"><a href="index.html#__codelineno-11-268" id="__codelineno-11-268" name="__codelineno-11-268"></a>
</span><span id="__span-11-269"><a href="index.html#__codelineno-11-269" id="__codelineno-11-269" name="__codelineno-11-269"></a>tg = TestsetGenerator(llm=llm_factory(), knowledge_graph=kg)
</span><span id="__span-11-270"><a href="index.html#__codelineno-11-270" id="__codelineno-11-270" name="__codelineno-11-270"></a># generating a testset
</span><span id="__span-11-271"><a href="index.html#__codelineno-11-271" id="__codelineno-11-271" name="__codelineno-11-271"></a>testset = tg.generate(testset_size=10, token_usage_parser=get_token_usage_for_openai)
</span></code></pre></div></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a href="index.html#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="c1"># total cost for the generation process</span>
</span><span id="__span-12-2"><a href="index.html#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="n">testset</span><span class="o">.</span><span class="n">total_cost</span><span class="p">(</span><span class="n">cost_per_input_token</span><span class="o">=</span><span class="mi">5</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">,</span> <span class="n">cost_per_output_token</span><span class="o">=</span><span class="mi">15</span> <span class="o">/</span> <span class="mf">1e6</span><span class="p">)</span>
</span></code></pre></div>
<p>Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a href="index.html#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>0.20967000000000002
</span></code></pre></div></p>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 23, 2025 20:06:24">January 23, 2025</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Created">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 23, 2025 20:06:24">January 23, 2025</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Contributors">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</span>
<span>GitHub</span>
<nav>
<a class="md-author" href="https://github.com/sahusiddharth" title="@sahusiddharth">
<img alt="sahusiddharth" src="https://avatars.githubusercontent.com/u/112792547?v=4&amp;size=72"/>
</a>
<a class="md-author" href="https://github.com/web-flow" title="@web-flow">
<img alt="web-flow" src="https://avatars.githubusercontent.com/u/19864447?v=4&amp;size=72"/>
</a>
<a class="md-author" href="https://github.com/jjmachan" title="@jjmachan">
<img alt="jjmachan" src="https://avatars.githubusercontent.com/u/5261489?v=4&amp;size=72"/>
</a>
</nav>
</span>
</aside>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Applications" class="md-footer__link md-footer__link--prev" href="../index.html">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Applications
              </div>
</div>
</a>
<a aria-label="Next: Evaluating Multi-turn Conversations" class="md-footer__link md-footer__link--next" href="../evaluating_multi_turn_conversations/index.html">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Evaluating Multi-turn Conversations
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs Insiders
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "content.tabs.link", "content.code.annotate", "content.code.copy", "announce.dismiss", "navigation.tabs", "navigation.path", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.footer", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.c7c1ca2c.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../../../assets/javascripts/bundle.f807c082.min.js"></script>
<script src="../../../static/js/mathjax.js"></script>
<script src="../../../static/js/header_border.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../../static/js/toggle.js"></script>
<script src="https://cdn.octolane.com/tag.js?pk=c7c9b2b863bf7eaf4e2a"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>