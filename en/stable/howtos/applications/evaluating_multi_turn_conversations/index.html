
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="index.html" rel="canonical"/>
<link href="../_cost/index.html" rel="prev"/>
<link href="../vertexai_x_zibly/index.html" rel="next"/>
<link href="../../../static/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.12+insiders-4.53.16" name="generator"/>
<title>Evaluating Multi-turn Conversations - Zibly</title>
<link href="../../../assets/stylesheets/main.ff49f96f.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../assets/_mkdocstrings.css" rel="stylesheet"/>
<link href="../../../extra/style.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XWJT601CLX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XWJT601CLX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XWJT601CLX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script><script async="" src="../../../../../static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="zibly" name="readthedocs-project-slug"><meta content="stable" name="readthedocs-version-slug"><meta content="/howtos/applications/evaluating_multi_turn_conversations/" name="readthedocs-resolver-filename"><meta content="200" name="readthedocs-http-status"/></meta></meta></meta></link></head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="index.html#evaluating-multi-turn-conversations">
          Skip to content
        </a>
</div>

<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Zibly" class="md-header__button md-logo" data-md-component="logo" href="../../../index.html" title="Zibly">
<img alt="logo" src="../../../static/imgs/zibly-logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Zibly
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Evaluating Multi-turn Conversations
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="zibly_light" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="zibly_dark" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/zibly-foundation/zibly" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    zibly-foundation/zibly
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../index.html">
</a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../getstarted/index.html">
          
  
  
    
  
  üöÄ Get Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../concepts/index.html">
          
  
  
    
  
  üìö Core Concepts

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../index.html">
          
  
  
    
  
  üõ†Ô∏è How-to Guides

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../references/index.html">
          
  
  
    
  
  üìñ References

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../community/index.html">
        
  
  
    
  
  ‚ù§Ô∏è Community

      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Zibly" class="md-nav__button md-logo" data-md-component="logo" href="../../../index.html" title="Zibly">
<img alt="logo" src="../../../static/imgs/zibly-logo.png"/>
</a>
    Zibly
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/zibly-foundation/zibly" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg>
</div>
<div class="md-source__repository">
    zibly-foundation/zibly
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../index.html">
<span class="md-ellipsis">
</span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../getstarted/index.html">
<span class="md-ellipsis">
    
  
    üöÄ Get Started
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    üöÄ Get Started
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/install/index.html">
<span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/evals/index.html">
<span class="md-ellipsis">
    
  
    Evaluate your first LLM App
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/rag_eval/index.html">
<span class="md-ellipsis">
    
  
    Evaluate a simple RAG
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../getstarted/rag_testset_generation/index.html">
<span class="md-ellipsis">
    
  
    Generate Synthetic Testset for RAG
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/index.html">
<span class="md-ellipsis">
    
  
    üìö Core Concepts
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    üìö Core Concepts
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/components/index.html">
<span class="md-ellipsis">
    
  
    Components
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    General
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/prompt/index.html">
<span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/eval_sample/index.html">
<span class="md-ellipsis">
    
  
    Evaluation Sample
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/components/eval_dataset/index.html">
<span class="md-ellipsis">
    
  
    Evaluation Dataset
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/metrics/index.html">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/overview/index.html">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/index.html">
<span class="md-ellipsis">
    
  
    Available Metrics
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3_3" id="__nav_3_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Available Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_2" id="__nav_3_3_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Retrieval Augmented Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_2_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Retrieval Augmented Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_precision/index.html">
<span class="md-ellipsis">
    
  
    Context Precision
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_recall/index.html">
<span class="md-ellipsis">
    
  
    Context Recall
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/context_entities_recall/index.html">
<span class="md-ellipsis">
    
  
    Context Entities Recall
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/noise_sensitivity/index.html">
<span class="md-ellipsis">
    
  
    Noise Sensitivity
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/answer_relevance/index.html">
<span class="md-ellipsis">
    
  
    Response Relevancy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/faithfulness/index.html">
<span class="md-ellipsis">
    
  
    Faithfulness
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_3" id="__nav_3_3_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Nvidia Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Nvidia Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#answer-accuracy">
<span class="md-ellipsis">
    
  
    Answer Accuracy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#context-relevance">
<span class="md-ellipsis">
    
  
    Context Relevance
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/nvidia_metrics/index.html#response-groundedness">
<span class="md-ellipsis">
    
  
    Response Groundedness
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_4" id="__nav_3_3_3_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Agents or Tool Use Cases
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_4_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Agents or Tool Use Cases
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html">
<span class="md-ellipsis">
    
  
    Agentic or Tool use
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#topic-adherence">
<span class="md-ellipsis">
    
  
    Topic Adherence
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#tool-call-accuracy">
<span class="md-ellipsis">
    
  
    Tool Call Accuracy
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/agents/index.html#agent-goal-accuracy">
<span class="md-ellipsis">
    
  
    Agent Goal Accuracy
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_5" id="__nav_3_3_3_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Natural Language Comparison
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_5_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Natural Language Comparison
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/factual_correctness/index.html">
<span class="md-ellipsis">
    
  
    Factual Correctness
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/semantic_similarity/index.html">
<span class="md-ellipsis">
    
  
    Semantic Similarity
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_5_3" id="__nav_3_3_3_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Traditional non LLM metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_5_3_label" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_3_3_3_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Traditional non LLM metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html">
<span class="md-ellipsis">
    
  
    Traditional NLP Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#non-llm-string-similarity">
<span class="md-ellipsis">
    
  
    Non LLM String Similarity
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#bleu-score">
<span class="md-ellipsis">
    
  
    BLEU Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#rouge-score">
<span class="md-ellipsis">
    
  
    ROUGE Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#string-presence">
<span class="md-ellipsis">
    
  
    String Presence
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/traditional/index.html#exact-match">
<span class="md-ellipsis">
    
  
    Exact Match
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_6" id="__nav_3_3_3_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_6_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    SQL
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html">
<span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html#execution-based-metrics">
<span class="md-ellipsis">
    
  
    Execution based Datacompy Score
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/sql/index.html#sql-query-semantic-equivalence">
<span class="md-ellipsis">
    
  
    SQL Query Equivalence
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_7" id="__nav_3_3_3_7_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General Purpose
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_7_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_7">
<span class="md-nav__icon md-icon"></span>
            
  
    General Purpose
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html">
<span class="md-ellipsis">
    
  
    General Purpose Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#aspect-critic">
<span class="md-ellipsis">
    
  
    Aspect Critic
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#simple-criteria-scoring">
<span class="md-ellipsis">
    
  
    Simple Criteria Scoring
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#rubrics-based-criteria-scoring">
<span class="md-ellipsis">
    
  
    Rubrics Based Scoring
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/general_purpose/index.html#instance-specific-rubrics-criteria-scoring">
<span class="md-ellipsis">
    
  
    Instance Specific Rubrics Scoring
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3_3_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3_3_8" id="__nav_3_3_3_8_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Other Tasks
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_3_8_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_3_3_8">
<span class="md-nav__icon md-icon"></span>
            
  
    Other Tasks
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/metrics/available_metrics/summarization_score/index.html">
<span class="md-ellipsis">
    
  
    Summarization
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/test_data_generation/index.html">
<span class="md-ellipsis">
    
  
    Test Data Generation
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Test Data Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    RAG
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_4_2">
<span class="md-nav__icon md-icon"></span>
            
  
    RAG
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html">
<span class="md-ellipsis">
    
  
    Testset Generation for RAG
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html#knowledge-graph-creation">
<span class="md-ellipsis">
    
  
    KG Building
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/rag/index.html#scenario-generation">
<span class="md-ellipsis">
    
  
    Scenario Generation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Agents or tool use
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_4_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Agents or tool use
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../concepts/test_data_generation/agents/index.html">
<span class="md-ellipsis">
    
  
    Testset Generation for Agents or Tool use cases
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../concepts/feedback/index.html">
<span class="md-ellipsis">
    
  
    Feedback Intelligence
  

    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Feedback Intelligence
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../index.html">
<span class="md-ellipsis">
    
  
    üõ†Ô∏è How-to Guides
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    üõ†Ô∏è How-to Guides
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../customizations/index.html">
<span class="md-ellipsis">
    
  
    Customizations
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Customizations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    General
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    General
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/customize_models/index.html">
<span class="md-ellipsis">
    
  
    Customise models
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/_run_config/index.html">
<span class="md-ellipsis">
    
  
    Run Config
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/_caching/index.html">
<span class="md-ellipsis">
    
  
    Caching
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_modifying-prompts-metrics/index.html">
<span class="md-ellipsis">
    
  
    Modify Prompts
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_metrics_language_adaptation/index.html">
<span class="md-ellipsis">
    
  
    Adapt Metrics to Languages
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_write_your_own_metric/index.html">
<span class="md-ellipsis">
    
  
    Write your own Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/metrics/_write_your_own_metric_advanced/index.html">
<span class="md-ellipsis">
    
  
    Write your own Metrics - (advanced)
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_2_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_2_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_2_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_language_adaptation/index.html">
<span class="md-ellipsis">
    
  
    Non-English Testset Generation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_persona_generator/index.html">
<span class="md-ellipsis">
    
  
    Persona Generation
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_testgen-custom-single-hop/index.html">
<span class="md-ellipsis">
    
  
    Custom Single-hop Query
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../customizations/testgenerator/_testgen-customisation/index.html">
<span class="md-ellipsis">
    
  
    Custom Multi-hop Query
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../index.html">
<span class="md-ellipsis">
    
  
    Applications
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Applications
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_4_3_2_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Metrics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../_cost/index.html">
<span class="md-ellipsis">
    
  
    Cost Analysis
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Evaluating Multi-turn Conversations
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="index.html">
<span class="md-ellipsis">
    
  
    Evaluating Multi-turn Conversations
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#zibly-metrics">
<span class="md-ellipsis">
      
        Zibly Metrics
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#practical-example-evaluating-a-banking-chatbot">
<span class="md-ellipsis">
      
        Practical Example ‚Äì Evaluating a Banking Chatbot
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#tonality">
<span class="md-ellipsis">
      
        Tonality
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#checking-for-brand-tone">
<span class="md-ellipsis">
      
        Checking for Brand Tone
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vertexai_x_zibly/index.html">
<span class="md-ellipsis">
    
  
    Evaluations with Vertex AI models
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_3" id="__nav_4_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../singlehop_testset_gen/index.html">
<span class="md-ellipsis">
    
  
    Single-hop Query Testset
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_3_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3_4" id="__nav_4_3_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Benchmarking
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_3_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_4_3_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Benchmarking
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../gemini_benchmarking/index.html">
<span class="md-ellipsis">
    
  
    Benchmarking Gemini models
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../integrations/index.html">
<span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_arize/index.html">
<span class="md-ellipsis">
    
  
    Arize
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/amazon_bedrock/index.html">
<span class="md-ellipsis">
    
  
    Amazon Bedrock
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/haystack/index.html">
<span class="md-ellipsis">
    
  
    Haystack
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/griptape/index.html">
<span class="md-ellipsis">
    
  
    Griptape
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/langchain/index.html">
<span class="md-ellipsis">
    
  
    LangChain
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_langgraph_agent_evaluation/index.html">
<span class="md-ellipsis">
    
  
    LangGraph
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/langsmith/index.html">
<span class="md-ellipsis">
    
  
    LangSmith
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/_llamaindex/index.html">
<span class="md-ellipsis">
    
  
    LlamaIndex
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/llama_stack/index.html">
<span class="md-ellipsis">
    
  
    LlamaStack
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/r2r/index.html">
<span class="md-ellipsis">
    
  
    R2R
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../integrations/swarm_agent_evaluation/index.html">
<span class="md-ellipsis">
    
  
    Swarm
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--section md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
<span class="md-ellipsis">
    
  
    Migrations
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Migrations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../migrations/migrate_from_v01_to_v02/index.html">
<span class="md-ellipsis">
    
  
    From v0.1 to v0.2
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../references/index.html">
<span class="md-ellipsis">
    
  
    üìñ References
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            
  
    üìñ References
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Core
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Core
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/prompt/index.html">
<span class="md-ellipsis">
    
  
    Prompt
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/llms/index.html">
<span class="md-ellipsis">
    
  
    LLMs
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/embeddings/index.html">
<span class="md-ellipsis">
    
  
    Embeddings
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/run_config/index.html">
<span class="md-ellipsis">
    
  
    RunConfig
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/executor/index.html">
<span class="md-ellipsis">
    
  
    Executor
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/cache/index.html">
<span class="md-ellipsis">
    
  
    Cache
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Evaluation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/evaluation_schema/index.html">
<span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/metrics/index.html">
<span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/evaluate/index.html">
<span class="md-ellipsis">
    
  
    evaluate()
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Testset Generation
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Testset Generation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/testset_schema/index.html">
<span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/graph/index.html">
<span class="md-ellipsis">
    
  
    Graph
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/transforms/index.html">
<span class="md-ellipsis">
    
  
    Transforms
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/synthesizers/index.html">
<span class="md-ellipsis">
    
  
    Synthesizers
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/generate/index.html">
<span class="md-ellipsis">
    
  
    Generation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../references/integrations/index.html">
<span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../community/index.html">
<span class="md-ellipsis">
    
  
    ‚ù§Ô∏è Community
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#zibly-metrics">
<span class="md-ellipsis">
      
        Zibly Metrics
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#practical-example-evaluating-a-banking-chatbot">
<span class="md-ellipsis">
      
        Practical Example ‚Äì Evaluating a Banking Chatbot
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#tonality">
<span class="md-ellipsis">
      
        Tonality
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="index.html#checking-for-brand-tone">
<span class="md-ellipsis">
      
        Checking for Brand Tone
      
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<nav aria-label="Navigation" class="md-path">
<ol class="md-path__list">
<li class="md-path__item">
<a class="md-path__link" href="../../../index.html">
<span class="md-ellipsis">
</span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../../index.html">
<span class="md-ellipsis">
    üõ†Ô∏è How-to Guides
  </span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../index.html">
<span class="md-ellipsis">
    Applications
  </span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../_cost/index.html">
<span class="md-ellipsis">
    Metrics
  </span>
</a>
</li>
</ol>
</nav>
<article class="md-content__inner md-typeset">
<h1 id="evaluating-multi-turn-conversations">Evaluating Multi-Turn Conversations</h1>
<p>This tutorial is inspired by Hamel‚Äôs notes on evaluating multi-turn conversations for LLM-based applications. The goal is to create a simple and actionable evaluation framework using Zibly metrics that clearly defines what makes a conversation successful. By the end of this tutorial, you will be able to perform multi-turn evaluations based on insights gathered from the error analysis of your AI application.</p>
<h3 id="zibly-metrics">Zibly Metrics</h3>
<p>Zibly offers <strong>AspectCritic</strong>, a powerful evaluation metric for assessing multi-turn conversations with binary outcomes. It helps determine whether a conversation meets predefined success criteria.  </p>
<p><strong><a href="../../../concepts/metrics/available_metrics/general_purpose/index.html#aspect-critic">AspectCritic</a></strong><br/>
AspectCritic evaluates responses based on predefined aspects written in free-form natural language. It returns a binary output indicating whether the response aligns with the defined aspect.</p>
<p>This metric aligns with Hamel's <a href="https://hamel.dev/notes/llm/officehours/evalmultiturn.html#focus-on-binary-decisions">suggestion</a> to focus on binary decisions, which eliminate ambiguity and provide a clear, actionable approach to improving conversation quality.</p>
<h3 id="practical-example-evaluating-a-banking-chatbot">Practical Example ‚Äì Evaluating a Banking Chatbot</h3>
<p>When evaluating, focus on metrics that directly align with your users‚Äô needs. Any change in the score should reflect a meaningful impact on the user experience.  </p>
<p>Let‚Äôs consider an example where you are building a chatbot for a bank.  </p>
<p>After conducting <a href="https://hamel.dev/notes/llm/officehours/erroranalysis.html#the-data-first-approach">error analysis</a>, you find that the chatbot occasionally forgets tasks it was asked to complete or performs them only partially. To improve the chatbot‚Äôs performance, you need a reliable method to <strong>measure and evaluate</strong> this behavior.  </p>
<blockquote>
<p><strong>Note:</strong> When defining the scoring criteria, use standardized terminology.<br/>
- Refer to the user‚Äôs message as <code>human</code> message.<br/>
- Refer to the chatbot‚Äôs message as <code>AI</code> message.  </p>
</blockquote>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a href="index.html#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>
</span><span id="__span-0-2"><a href="index.html#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.llms</span><span class="w"> </span><span class="kn">import</span> <span class="n">LangchainLLMWrapper</span>
</span><span id="__span-0-3"><a href="index.html#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatOpenAI</span>
</span><span id="__span-0-4"><a href="index.html#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>
</span><span id="__span-0-5"><a href="index.html#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="n">load_dotenv</span><span class="p">()</span>
</span><span id="__span-0-6"><a href="index.html#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>
</span><span id="__span-0-7"><a href="index.html#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="n">evaluator_llm</span> <span class="o">=</span> <span class="n">LangchainLLMWrapper</span><span class="p">(</span><span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">"gpt-4o-mini"</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a href="index.html#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">AspectCritic</span><span class="p">,</span> <span class="n">SimpleCriteriaScore</span>
</span><span id="__span-1-2"><a href="index.html#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.dataset_schema</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultiTurnSample</span><span class="p">,</span> <span class="n">EvaluationDataset</span>
</span><span id="__span-1-3"><a href="index.html#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly.messages</span><span class="w"> </span><span class="kn">import</span> <span class="n">HumanMessage</span><span class="p">,</span> <span class="n">AIMessage</span>
</span><span id="__span-1-4"><a href="index.html#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">zibly</span><span class="w"> </span><span class="kn">import</span> <span class="n">evaluate</span>
</span><span id="__span-1-5"><a href="index.html#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a>
</span><span id="__span-1-6"><a href="index.html#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a>
</span><span id="__span-1-7"><a href="index.html#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="n">sample1</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-1-8"><a href="index.html#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-1-9"><a href="index.html#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a>        <span class="n">HumanMessage</span><span class="p">(</span>
</span><span id="__span-1-10"><a href="index.html#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I need to increase my credit limit and check why my last transaction at Walmart was declined."</span>
</span><span id="__span-1-11"><a href="index.html#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a>        <span class="p">),</span>
</span><span id="__span-1-12"><a href="index.html#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-1-13"><a href="index.html#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Let's check the declined transaction first, the $234.56 transaction at Walmart on November 20th was declined due to insufficient funds."</span>
</span><span id="__span-1-14"><a href="index.html#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a>        <span class="p">),</span>
</span><span id="__span-1-15"><a href="index.html#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"That's not possible, I had enough money in my account."</span><span class="p">),</span>
</span><span id="__span-1-16"><a href="index.html#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-1-17"><a href="index.html#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I understand your concern. Let me check your account details... I see that while your current balance is $1,500, there was a pending hotel reservation hold of $800 at the time of the Walmart transaction, which reduced your available balance to $700."</span>
</span><span id="__span-1-18"><a href="index.html#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a>        <span class="p">),</span>
</span><span id="__span-1-19"><a href="index.html#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Oh, I forgot about the hotel booking."</span><span class="p">),</span>
</span><span id="__span-1-20"><a href="index.html#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Is there anything else I can assist you with?"</span><span class="p">),</span>
</span><span id="__span-1-21"><a href="index.html#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"What about increasing my credit limit?"</span><span class="p">),</span>
</span><span id="__span-1-22"><a href="index.html#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-1-23"><a href="index.html#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Based on your account history and current credit score of 740, you're eligible for a credit limit increase. The maximum increase available is $2,000. However, I notice you had three declined transactions this month, so I'd recommend reviewing your spending patterns before accepting an increase."</span>
</span><span id="__span-1-24"><a href="index.html#__codelineno-1-24" id="__codelineno-1-24" name="__codelineno-1-24"></a>        <span class="p">),</span>
</span><span id="__span-1-25"><a href="index.html#__codelineno-1-25" id="__codelineno-1-25" name="__codelineno-1-25"></a>    <span class="p">]</span>
</span><span id="__span-1-26"><a href="index.html#__codelineno-1-26" id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="p">)</span>
</span><span id="__span-1-27"><a href="index.html#__codelineno-1-27" id="__codelineno-1-27" name="__codelineno-1-27"></a>
</span><span id="__span-1-28"><a href="index.html#__codelineno-1-28" id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="n">sample2</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-1-29"><a href="index.html#__codelineno-1-29" id="__codelineno-1-29" name="__codelineno-1-29"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-1-30"><a href="index.html#__codelineno-1-30" id="__codelineno-1-30" name="__codelineno-1-30"></a>        <span class="n">HumanMessage</span><span class="p">(</span>
</span><span id="__span-1-31"><a href="index.html#__codelineno-1-31" id="__codelineno-1-31" name="__codelineno-1-31"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I need to check why my last transaction at Target was declined."</span>
</span><span id="__span-1-32"><a href="index.html#__codelineno-1-32" id="__codelineno-1-32" name="__codelineno-1-32"></a>        <span class="p">),</span>
</span><span id="__span-1-33"><a href="index.html#__codelineno-1-33" id="__codelineno-1-33" name="__codelineno-1-33"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-1-34"><a href="index.html#__codelineno-1-34" id="__codelineno-1-34" name="__codelineno-1-34"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Let's look at the declined transaction. The $145.30 transaction at Target on January 5th was declined due to a suspected fraud alert."</span>
</span><span id="__span-1-35"><a href="index.html#__codelineno-1-35" id="__codelineno-1-35" name="__codelineno-1-35"></a>        <span class="p">),</span>
</span><span id="__span-1-36"><a href="index.html#__codelineno-1-36" id="__codelineno-1-36" name="__codelineno-1-36"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"That‚Äôs strange, I didn‚Äôt report anything suspicious."</span><span class="p">),</span>
</span><span id="__span-1-37"><a href="index.html#__codelineno-1-37" id="__codelineno-1-37" name="__codelineno-1-37"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-1-38"><a href="index.html#__codelineno-1-38" id="__codelineno-1-38" name="__codelineno-1-38"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I understand. Let me look deeper. It seems a fraud prevention team flagged your recent purchase at a different store for unusually high activity, which triggered the decline at Target as well."</span>
</span><span id="__span-1-39"><a href="index.html#__codelineno-1-39" id="__codelineno-1-39" name="__codelineno-1-39"></a>        <span class="p">),</span>
</span><span id="__span-1-40"><a href="index.html#__codelineno-1-40" id="__codelineno-1-40" name="__codelineno-1-40"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Ah, that makes sense. I did shop a lot that day."</span><span class="p">),</span>
</span><span id="__span-1-41"><a href="index.html#__codelineno-1-41" id="__codelineno-1-41" name="__codelineno-1-41"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Is there anything else I can assist you with?"</span><span class="p">),</span>
</span><span id="__span-1-42"><a href="index.html#__codelineno-1-42" id="__codelineno-1-42" name="__codelineno-1-42"></a>    <span class="p">]</span>
</span><span id="__span-1-43"><a href="index.html#__codelineno-1-43" id="__codelineno-1-43" name="__codelineno-1-43"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a href="index.html#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">definition</span> <span class="o">=</span> <span class="s2">"Return 1 if the AI completes all Human requests fully without any rerequests; otherwise, return 0."</span>
</span><span id="__span-2-2"><a href="index.html#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>
</span><span id="__span-2-3"><a href="index.html#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="n">aspect_critic</span> <span class="o">=</span> <span class="n">AspectCritic</span><span class="p">(</span>
</span><span id="__span-2-4"><a href="index.html#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"forgetfulness_aspect_critic"</span><span class="p">,</span>
</span><span id="__span-2-5"><a href="index.html#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a>    <span class="n">definition</span><span class="o">=</span><span class="n">definition</span><span class="p">,</span>
</span><span id="__span-2-6"><a href="index.html#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">evaluator_llm</span><span class="p">,</span>
</span><span id="__span-2-7"><a href="index.html#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="p">)</span>
</span></code></pre></div>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a href="index.html#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span>
</span><span id="__span-3-2"><a href="index.html#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>    <span class="n">dataset</span><span class="o">=</span><span class="n">EvaluationDataset</span><span class="p">(</span><span class="n">samples</span><span class="o">=</span><span class="p">[</span><span class="n">sample1</span><span class="p">,</span> <span class="n">sample2</span><span class="p">]),</span>
</span><span id="__span-3-3"><a href="index.html#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">aspect_critic</span><span class="p">],</span>
</span><span id="__span-3-4"><a href="index.html#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="p">)</span>
</span><span id="__span-3-5"><a href="index.html#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a>
</span><span id="__span-3-6"><a href="index.html#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="n">result</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a href="index.html#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>Evaluating: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 2/2 [00:00&lt;?, ?it/s]
</span></code></pre></div></p>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_input</th>
<th>forgetfulness_aspect_critic</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>[{'content': 'I need to increase my credit lim...</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>[{'content': 'I need to check why my last tran...</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>When evaluating with LLM-based metrics, each metric may involve one or more calls to the LLM. The traces of evaluation can provide insghts for understanding the results and diagnosing any issues. You can find more details on this process by visiting <a href="https://docs.zibly.io/en/stable/howtos/applications/_metrics_llm_calls/">this page</a>.</p>
<p>Another pattern identified during error analysis is that your banking chatbot occasionally drifts from discussing basic account services into offering unauthorized investment advice. To maintain user trust and ensure regulatory compliance, you want the system to implement <strong>graceful transitions</strong> when conversations approach these boundaries. You can achieve this by defining a metric like the one below.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a href="index.html#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">definition</span> <span class="o">=</span> <span class="s2">"Return 1 if the AI stays within the banking domain, providing services like account-related information, credit card details, or general banking advice, and avoids offering financial or investment advice; otherwise, return 0"</span>
</span><span id="__span-5-2"><a href="index.html#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>
</span><span id="__span-5-3"><a href="index.html#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="n">aspect_critic</span> <span class="o">=</span> <span class="n">AspectCritic</span><span class="p">(</span>
</span><span id="__span-5-4"><a href="index.html#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"Banking Compliance Metric(aspect critic)"</span><span class="p">,</span>
</span><span id="__span-5-5"><a href="index.html#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a>    <span class="n">definition</span><span class="o">=</span><span class="n">definition</span><span class="p">,</span>
</span><span id="__span-5-6"><a href="index.html#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">evaluator_llm</span><span class="p">,</span>
</span><span id="__span-5-7"><a href="index.html#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a href="index.html#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">sample1</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-6-2"><a href="index.html#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-6-3"><a href="index.html#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a>        <span class="n">HumanMessage</span><span class="p">(</span>
</span><span id="__span-6-4"><a href="index.html#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I need to increase my credit limit and check why my last transaction at Walmart was declined."</span>
</span><span id="__span-6-5"><a href="index.html#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a>        <span class="p">),</span>
</span><span id="__span-6-6"><a href="index.html#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-7"><a href="index.html#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Let's check the declined transaction first, the $234.56 transaction at Walmart on November 20th was declined due to insufficient funds."</span>
</span><span id="__span-6-8"><a href="index.html#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a>        <span class="p">),</span>
</span><span id="__span-6-9"><a href="index.html#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"That's not possible, I had enough money in my account."</span><span class="p">),</span>
</span><span id="__span-6-10"><a href="index.html#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-11"><a href="index.html#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I understand your concern. Let me check your account details... I see that while your current balance is $1,500, there was a pending hotel reservation hold of $800 at the time of the Walmart transaction, which reduced your available balance to $700."</span>
</span><span id="__span-6-12"><a href="index.html#__codelineno-6-12" id="__codelineno-6-12" name="__codelineno-6-12"></a>        <span class="p">),</span>
</span><span id="__span-6-13"><a href="index.html#__codelineno-6-13" id="__codelineno-6-13" name="__codelineno-6-13"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Oh, I forgot about the hotel booking."</span><span class="p">),</span>
</span><span id="__span-6-14"><a href="index.html#__codelineno-6-14" id="__codelineno-6-14" name="__codelineno-6-14"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Is there anything else I can assist you with?"</span><span class="p">),</span>
</span><span id="__span-6-15"><a href="index.html#__codelineno-6-15" id="__codelineno-6-15" name="__codelineno-6-15"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"What about increasing my credit limit?"</span><span class="p">),</span>
</span><span id="__span-6-16"><a href="index.html#__codelineno-6-16" id="__codelineno-6-16" name="__codelineno-6-16"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-17"><a href="index.html#__codelineno-6-17" id="__codelineno-6-17" name="__codelineno-6-17"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Based on your account history and current credit score of 740, you're eligible for a credit limit increase. The maximum increase available is $2,000. However, I notice you had three declined transactions this month, so I'd recommend reviewing your spending patterns before accepting an increase."</span>
</span><span id="__span-6-18"><a href="index.html#__codelineno-6-18" id="__codelineno-6-18" name="__codelineno-6-18"></a>        <span class="p">),</span>
</span><span id="__span-6-19"><a href="index.html#__codelineno-6-19" id="__codelineno-6-19" name="__codelineno-6-19"></a>        <span class="n">HumanMessage</span><span class="p">(</span>
</span><span id="__span-6-20"><a href="index.html#__codelineno-6-20" id="__codelineno-6-20" name="__codelineno-6-20"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"What investment options do you recommend with my spare money?"</span>
</span><span id="__span-6-21"><a href="index.html#__codelineno-6-21" id="__codelineno-6-21" name="__codelineno-6-21"></a>        <span class="p">),</span>
</span><span id="__span-6-22"><a href="index.html#__codelineno-6-22" id="__codelineno-6-22" name="__codelineno-6-22"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-23"><a href="index.html#__codelineno-6-23" id="__codelineno-6-23" name="__codelineno-6-23"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"While I can help you with banking transactions and credit card matters, I'm not authorized to provide investment advice. I'd be happy to connect you with our certified financial advisor who can help you explore investment options."</span>
</span><span id="__span-6-24"><a href="index.html#__codelineno-6-24" id="__codelineno-6-24" name="__codelineno-6-24"></a>        <span class="p">),</span>
</span><span id="__span-6-25"><a href="index.html#__codelineno-6-25" id="__codelineno-6-25" name="__codelineno-6-25"></a>    <span class="p">]</span>
</span><span id="__span-6-26"><a href="index.html#__codelineno-6-26" id="__codelineno-6-26" name="__codelineno-6-26"></a><span class="p">)</span>
</span><span id="__span-6-27"><a href="index.html#__codelineno-6-27" id="__codelineno-6-27" name="__codelineno-6-27"></a>
</span><span id="__span-6-28"><a href="index.html#__codelineno-6-28" id="__codelineno-6-28" name="__codelineno-6-28"></a><span class="n">sample2</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-6-29"><a href="index.html#__codelineno-6-29" id="__codelineno-6-29" name="__codelineno-6-29"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-6-30"><a href="index.html#__codelineno-6-30" id="__codelineno-6-30" name="__codelineno-6-30"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Hi there!"</span><span class="p">),</span>
</span><span id="__span-6-31"><a href="index.html#__codelineno-6-31" id="__codelineno-6-31" name="__codelineno-6-31"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Hello! How can I help you today?"</span><span class="p">),</span>
</span><span id="__span-6-32"><a href="index.html#__codelineno-6-32" id="__codelineno-6-32" name="__codelineno-6-32"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"How much money do I have in my bank account?"</span><span class="p">),</span>
</span><span id="__span-6-33"><a href="index.html#__codelineno-6-33" id="__codelineno-6-33" name="__codelineno-6-33"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-34"><a href="index.html#__codelineno-6-34" id="__codelineno-6-34" name="__codelineno-6-34"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Your current balance is ‚Çπ85,750. Let me know if you‚Äôd like details on recent transactions or account services!"</span>
</span><span id="__span-6-35"><a href="index.html#__codelineno-6-35" id="__codelineno-6-35" name="__codelineno-6-35"></a>        <span class="p">),</span>
</span><span id="__span-6-36"><a href="index.html#__codelineno-6-36" id="__codelineno-6-36" name="__codelineno-6-36"></a>        <span class="n">HumanMessage</span><span class="p">(</span>
</span><span id="__span-6-37"><a href="index.html#__codelineno-6-37" id="__codelineno-6-37" name="__codelineno-6-37"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Which are better financial instruments for wealth generation‚Äîcrypto like Bitcoin or stocks?"</span>
</span><span id="__span-6-38"><a href="index.html#__codelineno-6-38" id="__codelineno-6-38" name="__codelineno-6-38"></a>        <span class="p">),</span>
</span><span id="__span-6-39"><a href="index.html#__codelineno-6-39" id="__codelineno-6-39" name="__codelineno-6-39"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-6-40"><a href="index.html#__codelineno-6-40" id="__codelineno-6-40" name="__codelineno-6-40"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Both stocks and cryptocurrencies have the potential for wealth generation, but they come with different risk levels. Stocks are usually more stable, linked to company performance, and can offer long-term growth. Cryptocurrencies, like Bitcoin, are highly volatile but can deliver quick, high returns. Diversification might be a smart approach based on your risk tolerance and goals."</span>
</span><span id="__span-6-41"><a href="index.html#__codelineno-6-41" id="__codelineno-6-41" name="__codelineno-6-41"></a>        <span class="p">),</span>
</span><span id="__span-6-42"><a href="index.html#__codelineno-6-42" id="__codelineno-6-42" name="__codelineno-6-42"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Interesting! Thanks for the advice."</span><span class="p">),</span>
</span><span id="__span-6-43"><a href="index.html#__codelineno-6-43" id="__codelineno-6-43" name="__codelineno-6-43"></a>    <span class="p">]</span>
</span><span id="__span-6-44"><a href="index.html#__codelineno-6-44" id="__codelineno-6-44" name="__codelineno-6-44"></a><span class="p">)</span>
</span></code></pre></div>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a href="index.html#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span>
</span><span id="__span-7-2"><a href="index.html#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="n">dataset</span><span class="o">=</span><span class="n">EvaluationDataset</span><span class="p">(</span><span class="n">samples</span><span class="o">=</span><span class="p">[</span><span class="n">sample1</span><span class="p">,</span> <span class="n">sample2</span><span class="p">]),</span>
</span><span id="__span-7-3"><a href="index.html#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">aspect_critic</span><span class="p">],</span>
</span><span id="__span-7-4"><a href="index.html#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="p">)</span>
</span><span id="__span-7-5"><a href="index.html#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a>
</span><span id="__span-7-6"><a href="index.html#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="n">result</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a href="index.html#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a>Evaluating: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 2/2 [00:00&lt;?, ?it/s]
</span></code></pre></div></p>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_input</th>
<th>Banking Compliance Metric(aspect critic)</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>[{'content': 'I need to increase my credit lim...</td>
<td>1</td>
</tr>
<tr>
<th>1</th>
<td>[{'content': 'Hi there!', 'type': 'human'}, {'...</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<h3 id="tonality">Tonality</h3>
<p>In this section, we will explore how to evaluate whether your chatbot maintains a consistent tone across different regions and cultures ‚Äî one of the most challenging aspects of multilingual deployment.</p>
<p>What is considered polite in one culture may be perceived differently in another. For example, politeness in Japan is often expressed with a formal, indirect, and respectful tone, while in Mexico, it is typically conveyed with a warm, friendly, and engaging tone.</p>
<p>To ensure your chatbot adapts to these cultural nuances, you can define custom evaluation metrics that assess whether the tone aligns with the expectations of each target audience.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a href="index.html#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">japanese_polite_definition</span> <span class="o">=</span> <span class="s2">"Return 1 if the AI maintains a formal, polite, and respectful tone throughout the conversation, using indirect expressions and avoiding overly casual or direct language; otherwise, return 0."</span>
</span><span id="__span-9-2"><a href="index.html#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a>
</span><span id="__span-9-3"><a href="index.html#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="n">mexican_polite_definition</span> <span class="o">=</span> <span class="s2">"Return 1 if the AI maintains a warm, friendly, and engaging tone, blending informality with respect and fostering a personable, approachable interaction; otherwise, return 0."</span>
</span><span id="__span-9-4"><a href="index.html#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a>
</span><span id="__span-9-5"><a href="index.html#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="n">jpn_polite_aspect_critic</span> <span class="o">=</span> <span class="n">AspectCritic</span><span class="p">(</span>
</span><span id="__span-9-6"><a href="index.html#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"japanese_polite_aspect_critic"</span><span class="p">,</span>
</span><span id="__span-9-7"><a href="index.html#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a>    <span class="n">definition</span><span class="o">=</span><span class="n">japanese_polite_definition</span><span class="p">,</span>
</span><span id="__span-9-8"><a href="index.html#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">evaluator_llm</span><span class="p">,</span>
</span><span id="__span-9-9"><a href="index.html#__codelineno-9-9" id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="p">)</span>
</span><span id="__span-9-10"><a href="index.html#__codelineno-9-10" id="__codelineno-9-10" name="__codelineno-9-10"></a>
</span><span id="__span-9-11"><a href="index.html#__codelineno-9-11" id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="n">mex_polite_aspect_critic</span> <span class="o">=</span> <span class="n">AspectCritic</span><span class="p">(</span>
</span><span id="__span-9-12"><a href="index.html#__codelineno-9-12" id="__codelineno-9-12" name="__codelineno-9-12"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"mexican_polite_aspect_critic"</span><span class="p">,</span>
</span><span id="__span-9-13"><a href="index.html#__codelineno-9-13" id="__codelineno-9-13" name="__codelineno-9-13"></a>    <span class="n">definition</span><span class="o">=</span><span class="n">mexican_polite_definition</span><span class="p">,</span>
</span><span id="__span-9-14"><a href="index.html#__codelineno-9-14" id="__codelineno-9-14" name="__codelineno-9-14"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">evaluator_llm</span><span class="p">,</span>
</span><span id="__span-9-15"><a href="index.html#__codelineno-9-15" id="__codelineno-9-15" name="__codelineno-9-15"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a href="index.html#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">sample1</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-10-2"><a href="index.html#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-10-3"><a href="index.html#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I forgot my PIN. What should I do?"</span><span class="p">),</span>
</span><span id="__span-10-4"><a href="index.html#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-10-5"><a href="index.html#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"I can assist you in resetting your PIN. May I send a verification code to your registered phone number?"</span>
</span><span id="__span-10-6"><a href="index.html#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a>        <span class="p">),</span>
</span><span id="__span-10-7"><a href="index.html#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Yes, please."</span><span class="p">),</span>
</span><span id="__span-10-8"><a href="index.html#__codelineno-10-8" id="__codelineno-10-8" name="__codelineno-10-8"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I have sent the code. Please check and enter it here."</span><span class="p">),</span>
</span><span id="__span-10-9"><a href="index.html#__codelineno-10-9" id="__codelineno-10-9" name="__codelineno-10-9"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I have entered it."</span><span class="p">),</span>
</span><span id="__span-10-10"><a href="index.html#__codelineno-10-10" id="__codelineno-10-10" name="__codelineno-10-10"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Thank you. Please set a new PIN."</span><span class="p">),</span>
</span><span id="__span-10-11"><a href="index.html#__codelineno-10-11" id="__codelineno-10-11" name="__codelineno-10-11"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I have set it."</span><span class="p">),</span>
</span><span id="__span-10-12"><a href="index.html#__codelineno-10-12" id="__codelineno-10-12" name="__codelineno-10-12"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-10-13"><a href="index.html#__codelineno-10-13" id="__codelineno-10-13" name="__codelineno-10-13"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Your PIN reset is complete. Thank you for choosing our bank."</span>
</span><span id="__span-10-14"><a href="index.html#__codelineno-10-14" id="__codelineno-10-14" name="__codelineno-10-14"></a>        <span class="p">),</span>
</span><span id="__span-10-15"><a href="index.html#__codelineno-10-15" id="__codelineno-10-15" name="__codelineno-10-15"></a>    <span class="p">]</span>
</span><span id="__span-10-16"><a href="index.html#__codelineno-10-16" id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="p">)</span>
</span><span id="__span-10-17"><a href="index.html#__codelineno-10-17" id="__codelineno-10-17" name="__codelineno-10-17"></a>
</span><span id="__span-10-18"><a href="index.html#__codelineno-10-18" id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="n">sample2</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-10-19"><a href="index.html#__codelineno-10-19" id="__codelineno-10-19" name="__codelineno-10-19"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-10-20"><a href="index.html#__codelineno-10-20" id="__codelineno-10-20" name="__codelineno-10-20"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Help! I forgot my PIN."</span><span class="p">),</span>
</span><span id="__span-10-21"><a href="index.html#__codelineno-10-21" id="__codelineno-10-21" name="__codelineno-10-21"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-10-22"><a href="index.html#__codelineno-10-22" id="__codelineno-10-22" name="__codelineno-10-22"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Don't worry! I‚Äôll help you reset it. Do you want me to send a verification code to your registered number?"</span>
</span><span id="__span-10-23"><a href="index.html#__codelineno-10-23" id="__codelineno-10-23" name="__codelineno-10-23"></a>        <span class="p">),</span>
</span><span id="__span-10-24"><a href="index.html#__codelineno-10-24" id="__codelineno-10-24" name="__codelineno-10-24"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Yes, please."</span><span class="p">),</span>
</span><span id="__span-10-25"><a href="index.html#__codelineno-10-25" id="__codelineno-10-25" name="__codelineno-10-25"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Done! Check your phone and enter the code here. "</span><span class="p">),</span>
</span><span id="__span-10-26"><a href="index.html#__codelineno-10-26" id="__codelineno-10-26" name="__codelineno-10-26"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"I have entered it."</span><span class="p">),</span>
</span><span id="__span-10-27"><a href="index.html#__codelineno-10-27" id="__codelineno-10-27" name="__codelineno-10-27"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Great! Now choose a new PIN and keep it in a safe place."</span><span class="p">),</span>
</span><span id="__span-10-28"><a href="index.html#__codelineno-10-28" id="__codelineno-10-28" name="__codelineno-10-28"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Done."</span><span class="p">),</span>
</span><span id="__span-10-29"><a href="index.html#__codelineno-10-29" id="__codelineno-10-29" name="__codelineno-10-29"></a>        <span class="n">AIMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Perfect! All set. If you need more help, I‚Äôll be here."</span><span class="p">),</span>
</span><span id="__span-10-30"><a href="index.html#__codelineno-10-30" id="__codelineno-10-30" name="__codelineno-10-30"></a>    <span class="p">]</span>
</span><span id="__span-10-31"><a href="index.html#__codelineno-10-31" id="__codelineno-10-31" name="__codelineno-10-31"></a><span class="p">)</span>
</span></code></pre></div>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a href="index.html#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span>
</span><span id="__span-11-2"><a href="index.html#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a>    <span class="n">dataset</span><span class="o">=</span><span class="n">EvaluationDataset</span><span class="p">(</span><span class="n">samples</span><span class="o">=</span><span class="p">[</span><span class="n">sample1</span><span class="p">,</span> <span class="n">sample2</span><span class="p">]),</span>
</span><span id="__span-11-3"><a href="index.html#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">jpn_polite_aspect_critic</span><span class="p">,</span> <span class="n">mex_polite_aspect_critic</span><span class="p">],</span>
</span><span id="__span-11-4"><a href="index.html#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="p">)</span>
</span><span id="__span-11-5"><a href="index.html#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>
</span><span id="__span-11-6"><a href="index.html#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="n">result</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a href="index.html#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a>Evaluating: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 4/4 [00:00&lt;?, ?it/s]
</span></code></pre></div></p>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_input</th>
<th>japanese_polite_aspect_critic</th>
<th>mexican_polite_aspect_critic</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>[{'content': 'I forgot my PIN. What should I d...</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>1</th>
<td>[{'content': 'Help! I forgot my PIN.', 'type':...</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>The above evaluation result highlights that what is considered polite in Mexico may not be perceived as polite in Japan.</p>
<h3 id="checking-for-brand-tone">Checking for Brand Tone</h3>
<p>In this section, we will explore how to evaluate whether the chatbot‚Äôs tone is consistent with the business‚Äôs values, target audience, and overall brand identity.  </p>
<p><strong>What is a Brand Tone of Voice?</strong>
A brand‚Äôs tone of voice refers to its choice of words when communicating with its audience in written or spoken interactions. By defining a unique tone of voice, brands can develop an authentic personality, style, and attitude.<br/>
<a href="https://filestage.io/blog/brand-tone-of-voice-examples/">Reference</a> </p>
<p>For example:  </p>
<p><strong>Google ‚Äì Informative and Helpful Brand Voice</strong><br/>
Have you noticed how simple and intuitive everything feels when you use Google products? But as soon as you switch to another tool, things suddenly feel more complicated. This seamless experience results from Google‚Äôs mastery of its brand voice.  </p>
<p>Google maintains a friendly and approachable tone while keeping user communication clear and concise. Their entire brand voice revolves around being helpful, clear, and accessible, making their products intuitive for everyone.<br/>
<a href="https://filestage.io/blog/brand-tone-of-voice-examples/">Reference</a> </p>
<p>You can assess whether your chatbot‚Äôs responses align with your brand identity by defining a custom evaluation metric like the one below.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a href="index.html#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="n">definition</span> <span class="o">=</span> <span class="s2">"Return 1 if the AI's communication is friendly, approachable, helpful, clear, and concise; otherwise, return 0."</span>
</span><span id="__span-13-2"><a href="index.html#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a>
</span><span id="__span-13-3"><a href="index.html#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="n">aspect_critic</span> <span class="o">=</span> <span class="n">AspectCritic</span><span class="p">(</span>
</span><span id="__span-13-4"><a href="index.html#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a>    <span class="n">name</span><span class="o">=</span><span class="s2">"Brand Voice Metric(aspect critic)"</span><span class="p">,</span>
</span><span id="__span-13-5"><a href="index.html#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a>    <span class="n">definition</span><span class="o">=</span><span class="n">definition</span><span class="p">,</span>
</span><span id="__span-13-6"><a href="index.html#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a>    <span class="n">llm</span><span class="o">=</span><span class="n">evaluator_llm</span><span class="p">,</span>
</span><span id="__span-13-7"><a href="index.html#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a href="index.html#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="n">sample</span> <span class="o">=</span> <span class="n">MultiTurnSample</span><span class="p">(</span>
</span><span id="__span-14-2"><a href="index.html#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a>    <span class="n">user_input</span><span class="o">=</span><span class="p">[</span>
</span><span id="__span-14-3"><a href="index.html#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Hi! I want to apply for a credit card."</span><span class="p">),</span>
</span><span id="__span-14-4"><a href="index.html#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-14-5"><a href="index.html#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Sure! We‚Äôve got a few great options. What kind of benefits are you interested in?"</span>
</span><span id="__span-14-6"><a href="index.html#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a>        <span class="p">),</span>
</span><span id="__span-14-7"><a href="index.html#__codelineno-14-7" id="__codelineno-14-7" name="__codelineno-14-7"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Travel rewards, mostly."</span><span class="p">),</span>
</span><span id="__span-14-8"><a href="index.html#__codelineno-14-8" id="__codelineno-14-8" name="__codelineno-14-8"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-14-9"><a href="index.html#__codelineno-14-9" id="__codelineno-14-9" name="__codelineno-14-9"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Perfect! Our Travel Rewards Card gives you miles for every dollar spent on flights and hotels. Want to apply now?"</span>
</span><span id="__span-14-10"><a href="index.html#__codelineno-14-10" id="__codelineno-14-10" name="__codelineno-14-10"></a>        <span class="p">),</span>
</span><span id="__span-14-11"><a href="index.html#__codelineno-14-11" id="__codelineno-14-11" name="__codelineno-14-11"></a>        <span class="n">HumanMessage</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">"Yes, please."</span><span class="p">),</span>
</span><span id="__span-14-12"><a href="index.html#__codelineno-14-12" id="__codelineno-14-12" name="__codelineno-14-12"></a>        <span class="n">AIMessage</span><span class="p">(</span>
</span><span id="__span-14-13"><a href="index.html#__codelineno-14-13" id="__codelineno-14-13" name="__codelineno-14-13"></a>            <span class="n">content</span><span class="o">=</span><span class="s2">"Awesome! Here‚Äôs the link to apply. It‚Äôs quick and easy. Let me know if you need help!"</span>
</span><span id="__span-14-14"><a href="index.html#__codelineno-14-14" id="__codelineno-14-14" name="__codelineno-14-14"></a>        <span class="p">),</span>
</span><span id="__span-14-15"><a href="index.html#__codelineno-14-15" id="__codelineno-14-15" name="__codelineno-14-15"></a>    <span class="p">]</span>
</span><span id="__span-14-16"><a href="index.html#__codelineno-14-16" id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="p">)</span>
</span></code></pre></div>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a href="index.html#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">result</span> <span class="o">=</span> <span class="n">evaluate</span><span class="p">(</span>
</span><span id="__span-15-2"><a href="index.html#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a>    <span class="n">dataset</span><span class="o">=</span><span class="n">EvaluationDataset</span><span class="p">(</span><span class="n">samples</span><span class="o">=</span><span class="p">[</span><span class="n">sample</span><span class="p">]),</span>
</span><span id="__span-15-3"><a href="index.html#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a>    <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">aspect_critic</span><span class="p">],</span>
</span><span id="__span-15-4"><a href="index.html#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="p">)</span>
</span><span id="__span-15-5"><a href="index.html#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a>
</span><span id="__span-15-6"><a href="index.html#__codelineno-15-6" id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="n">result</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
</span></code></pre></div>
Output
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a href="index.html#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a>Evaluating:   100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00&lt;?, ?it/s]
</span></code></pre></div></p>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_input</th>
<th>Brand Voice Metric(aspect critic)</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>[{'content': 'Hi! I want to apply for a credit...</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 14, 2025 21:02:33">February 14, 2025</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Created">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="February 14, 2025 21:02:33">February 14, 2025</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Contributors">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</span>
<span>GitHub</span>
<nav>
<a class="md-author" href="https://github.com/sahusiddharth" title="@sahusiddharth">
<img alt="sahusiddharth" src="https://avatars.githubusercontent.com/u/112792547?v=4&amp;size=72"/>
</a>
<a class="md-author" href="https://github.com/web-flow" title="@web-flow">
<img alt="web-flow" src="https://avatars.githubusercontent.com/u/19864447?v=4&amp;size=72"/>
</a>
</nav>
</span>
</aside>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Cost Analysis" class="md-footer__link md-footer__link--prev" href="../_cost/index.html">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Cost Analysis
              </div>
</div>
</a>
<a aria-label="Next: Evaluations with Vertex AI models" class="md-footer__link md-footer__link--next" href="../vertexai_x_zibly/index.html">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Evaluations with Vertex AI models
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs Insiders
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "content.tabs.link", "content.code.annotate", "content.code.copy", "announce.dismiss", "navigation.tabs", "navigation.path", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.sections", "navigation.top", "navigation.tracking", "navigation.indexes", "navigation.footer", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.c7c1ca2c.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
<script src="../../../assets/javascripts/bundle.f807c082.min.js"></script>
<script src="../../../static/js/mathjax.js"></script>
<script src="../../../static/js/header_border.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="../../../static/js/toggle.js"></script>
<script src="https://cdn.octolane.com/tag.js?pk=c7c9b2b863bf7eaf4e2a"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>